import"../chunks/DsnmJJEf.js";import"../chunks/BICuxwOm.js";import{o as qa}from"../chunks/dkP-lNZr.js";import{ap as Ve,aq as c,ar as r,as as Ye,at as m,au as p,aA as ka,T as se,d as e,u as s,av as v,ax as f,ay as q,a$ as je,C as j,k as S,aC as Fe,aD as xa,aE as Da,az as b,aF as $a,aw as F,aB as Be,aJ as Ea,aK as Ca}from"../chunks/eVu4eyQM.js";import{i as _}from"../chunks/CbkWCvrX.js";import{e as A,i as W}from"../chunks/Unz2ohpb.js";import{s as I}from"../chunks/C1T0uLfW.js";import{s as ce}from"../chunks/OT850oBl.js";import{s as ge}from"../chunks/CW4uCI9b.js";import{b as Sa}from"../chunks/D63EYBSs.js";import{s as Ba}from"../chunks/BqlTOgs2.js";import{i as Ze}from"../chunks/BQk6HzGS.js";import{b as Pa}from"../chunks/DMhMeZ7T.js";import{s as Aa,a as Ma}from"../chunks/DDy39nHp.js";import{g as z,i as Ke,b as Pe}from"../chunks/BOSI5car.js";import{e as U}from"../chunks/tX6eXl9A.js";import{p as Oe}from"../chunks/DG2Yzgpb.js";var Wa=c('<img class="svelte-6xmpcn"/>'),Ra=c('<div class="weapon-element svelte-6xmpcn"><!></div>'),Ta=c('<div class="weapon-element empty-element svelte-6xmpcn"></div> <div class="weapon-element empty-element svelte-6xmpcn"></div>',1),Na=c('<div><div class="stat-label svelte-6xmpcn"> </div> <div class="stat-value svelte-6xmpcn"><!></div></div>'),La=c("<div></div>"),Ua=c('<div class="stats-container svelte-6xmpcn"><div class="level">25</div> <div class="elements svelte-6xmpcn"></div> <div class="main-stats-grid svelte-6xmpcn"></div></div>');function Xa(be,K){Ve(K,!1);let O=Oe(K,"totalStats",8),we=Oe(K,"activeElements",8);const he=[[{label:"Physical Damage",key:"physicalDamage"},{label:"Physical Defence",key:"physicalDefence"},{label:"Magic Damage",key:"magicDamage"},{label:"Magic Defence",key:"magicDefence"}],[{label:"Aura",key:"aura"},{label:"Perception",key:"perception"},{label:"Resilience",key:"resilience"},{label:"Agility",key:"agility"},{label:"Crit Chance",key:"critChance",format:g=>`${g*100}%`},{label:"Crit Damage",key:"critDamage",format:g=>`${g}x`}]];Ze();var R=Ua(),V=m(p(R),2);A(V,5,we,W,(g,k)=>{var X=Ra(),E=p(X);{var G=w=>{var T=Wa();f(()=>{I(T,"src",(se(U),e(k),s(()=>U[e(k)]))),I(T,"alt",e(k)),I(T,"title",e(k))}),r(w,T)};_(E,w=>{se(U),e(k),s(()=>U[e(k)])&&w(G)})}v(X),r(g,X)},g=>{var k=Ta();ka(2),r(g,k)}),v(V);var a=m(V,2);A(a,5,()=>he,W,(g,k,X)=>{var E=La();ce(E,1,`stat-column column-${X+1}`,"svelte-6xmpcn"),A(E,5,()=>e(k),W,(G,w,T)=>{var Y=Na();ce(Y,1,`stat-row ${T%2===0?"even":"odd"}`,"svelte-6xmpcn");var ie=p(Y),me=p(ie,!0);v(ie);var H=m(ie,2),de=p(H);{var le=N=>{var J=je();f(re=>q(J,re),[()=>(e(w),se(O()),s(()=>e(w).format(O()[e(w).key])))]),r(N,J)},Ie=N=>{var J=je();f(()=>q(J,(se(O()),e(w),s(()=>O()[e(w).key])))),r(N,J)};_(de,N=>{e(w),s(()=>e(w).format)?N(le):N(Ie,!1)})}v(H),v(Y),f(()=>q(me,(e(w),s(()=>e(w).label)))),r(G,Y)}),v(E),r(g,E)}),v(a),v(R),r(be,R),Ye()}var Ga=c("<li> </li>"),Ha=c("<ul></ul>"),Ja=c("<p>No active buffs.</p>"),Qa=c('<img class="item-thumbnail svelte-1v7w2z9"/> <button class="unequip-button svelte-1v7w2z9">X</button>',1),ja=c('<div class="empty-slot svelte-1v7w2z9">Weapon 1</div>'),Fa=c('<img class="item-thumbnail svelte-1v7w2z9"/> <button class="unequip-button svelte-1v7w2z9">X</button>',1),Ka=c('<div class="empty-slot svelte-1v7w2z9">Weapon 2</div>'),Oa=c('<img class="item-thumbnail svelte-1v7w2z9"/> <button class="unequip-button svelte-1v7w2z9">X</button>',1),Va=c('<div class="empty-slot svelte-1v7w2z9"></div>'),Ya=c('<div class="equipment-slot svelte-1v7w2z9"><!></div>'),Za=c('<span class="item-quantity-tooltip svelte-1v7w2z9"> </span>'),et=c('<div class="item-slot svelte-1v7w2z9"><img class="item-thumbnail svelte-1v7w2z9"/> <!></div>'),at=c("<p>No items in this category.</p>"),tt=c('<div class="backpack-grid svelte-1v7w2z9"></div>'),st=c("<p>No items in this category.</p>"),it=c('<span class="item-tag equippable svelte-1v7w2z9">EQP</span>'),lt=c('<span class="item-tag consumable svelte-1v7w2z9">MED</span>'),rt=c('<span class="item-tag special svelte-1v7w2z9">SPC</span>'),vt=c('<span class="item-tag quantity svelte-1v7w2z9"> </span>'),nt=c('<p class="item-description svelte-1v7w2z9"> </p>'),ot=c('<img class="element-icon"/>'),ct=c('<div class="elemental-types-modal"></div>'),mt=c("<li> </li>"),dt=c("<ul></ul>"),pt=c("<li> </li>"),ut=c("<li> </li>"),_t=c("<li> </li>"),ft=c('<h4 class="svelte-1v7w2z9">Effects:</h4> <ul><!> <!> <!></ul>',1),gt=c('<span class="drop-tooltip svelte-1v7w2z9"> </span>'),bt=c('<div class="item-details-modal-overlay svelte-1v7w2z9"><div class="item-details-modal svelte-1v7w2z9"><button class="close-modal-button svelte-1v7w2z9">&times;</button> <h2 class="svelte-1v7w2z9"> </h2> <img class="modal-item-thumbnail svelte-1v7w2z9"/> <div class="item-tags svelte-1v7w2z9"><!> <!> <!> <!></div> <!> <!> <!> <!> <div class="item-actions svelte-1v7w2z9"><button class="equip-button svelte-1v7w2z9">Equip</button> <button class="consume-button svelte-1v7w2z9">Consume</button> <div class="drop-button-container svelte-1v7w2z9"><button class="svelte-1v7w2z9">Drop</button> <!></div></div></div></div>'),wt=c('<main tabindex="0" class="svelte-1v7w2z9"><!> <div class="buff-bar"><h3 class="svelte-1v7w2z9">Active Buffs</h3> <!></div> <div class="inventory-container svelte-1v7w2z9"><div class="equipment-panel svelte-1v7w2z9"><h2 class="svelte-1v7w2z9">Equipment</h2> <div class="equipment-grid svelte-1v7w2z9"><div class="equipment-slot svelte-1v7w2z9"><!></div> <div class="equipment-slot svelte-1v7w2z9"><!></div> <!></div></div> <div class="backpack-panel svelte-1v7w2z9"><div class="tab-navigation svelte-1v7w2z9"><button><img src="./game_icons/general_tab.png" alt="General" class="tab-icon svelte-1v7w2z9"/> General</button> <button><img src="./game_icons/weapons_tab.png" alt="Weapons" class="tab-icon svelte-1v7w2z9"/> Weapons</button> <button><img src="./game_icons/relics_tab.png" alt="Relics" class="tab-icon svelte-1v7w2z9"/> Relics</button></div> <div class="tab-content svelte-1v7w2z9"><!></div></div></div> <!></main>');function Rt(be,K){Ve(K,!1);const[O,we]=Ma(),he=()=>Aa(z,"$gameStore",O),R=j(),V=j();let a=j(he()),g=j("general"),k=".";z.subscribe(t=>{S(a,t)});function X(t){const n={...{hp:t.hp,maxHp:t.maxHp,physicalDamage:t.physicalDamage,physicalDefence:t.physicalDefence,magicDamage:t.magicDamage,magicDefence:t.magicDefence,heal:t.heal,aura:t.aura,maxAura:t.maxAura,perception:t.perception,resilience:t.resilience,agility:t.agility,critChance:t.critChance,critDamage:t.critDamage}};t.equipment.weapon1&&t.equipment.weapon1.stats.forEach(d=>{n[d.name]!==void 0&&(n[d.name]+=d.value)}),t.equipment.weapon2&&t.equipment.weapon2.stats.forEach(d=>{n[d.name]!==void 0&&(n[d.name]+=d.value)}),t.equipment.relics.forEach(d=>{d&&d.stats.forEach(y=>{n[y.name]!==void 0&&(n[y.name]+=y.value)})});const o={...n};return t.activeBuffs.forEach(d=>{o[d.stat]!==void 0&&(d.type==="flat"?o[d.stat]+=d.value:d.type==="percentage"&&(o[d.stat]*=1+d.value))}),o}let E=j();qa(()=>{e(E)&&e(E).focus();const t=i=>{i.key==="Escape"&&e(a).showItemDetails&&z.closeItemDetails()};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}});let G=j(!1),w=j("");function T(t){(t.cannotDrop||t.special)&&(S(G,!0),S(w,"You can't drop that, it's important or special!"))}function Y(){S(G,!1),S(w,"")}function ie(t){if(!t)return!1;const i=e(a).player.equipment;return!!(i.weapon1&&i.weapon1.id===t.id||i.weapon2&&i.weapon2.id===t.id||i.relics.some(n=>n&&n.id===t.id))}function me(t){if(!t)return 0;const i=e(a).player.backpack.find(n=>n.item.id===t.id);return i?i.quantity:0}Fe(()=>(e(a),e(g),Pe),()=>{S(R,e(a).player.backpack.filter(t=>e(g)==="weapons"?Ke(t.item):e(g)==="relics"?Pe(t.item):!Ke(t.item)&&!Pe(t.item)))}),Fe(()=>e(a),()=>{S(V,X(e(a).player))}),xa(),Ze();var H=wt();Da(t=>{$a.title="Dawn's Journey : Inventory"});var de=p(H);Xa(de,{get totalStats(){return e(V)},get activeElements(){return e(a),s(()=>e(a).player.activeElements)}});var le=m(de,2),Ie=m(p(le),2);{var N=t=>{var i=Ha();A(i,5,()=>(e(a),s(()=>e(a).player.activeBuffs)),W,(n,o)=>{var d=Ga(),y=p(d);v(d),f(()=>q(y,`${e(o),s(()=>e(o).stat)??""}: ${e(o),s(()=>e(o).type==="percentage"?`${e(o).value*100}%`:`+${e(o).value}`)??""} (${e(o),s(()=>e(o).duration)??""} steps remaining)`)),r(n,d)}),v(i),r(t,i)},J=t=>{var i=Ja();r(t,i)};_(Ie,t=>{e(a),s(()=>e(a).player.activeBuffs&&e(a).player.activeBuffs.length>0)?t(N):t(J,!1)})}v(le);var re=m(le,2),ze=p(re),Ae=m(p(ze),2),pe=p(Ae);ge(pe,"",{},{"background-image":"url('./game_icons/bgsq2.png')","background-size":"100% 100%","background-repeat":"no-repeat"});var ea=p(pe);{var aa=t=>{var i=Qa(),n=F(i),o=m(n,2);f(()=>{I(n,"src",(e(a),s(()=>e(a).player.equipment.weapon1.thumbnailImage))),I(n,"alt",(e(a),s(()=>e(a).player.equipment.weapon1.name)))}),b("click",n,()=>z.openItemDetails(e(a).player.equipment.weapon1)),b("click",o,()=>z.unequipItem(e(a).player.equipment.weapon1)),r(t,i)},ta=t=>{var i=ja();r(t,i)};_(ea,t=>{e(a),s(()=>e(a).player.equipment.weapon1)?t(aa):t(ta,!1)})}v(pe);var ue=m(pe,2);ge(ue,"",{},{"background-image":"url('./game_icons/bgsq2.png')","background-size":"100% 100%","background-repeat":"no-repeat"});var sa=p(ue);{var ia=t=>{var i=Fa(),n=F(i),o=m(n,2);f(()=>{I(n,"src",(e(a),s(()=>e(a).player.equipment.weapon2.thumbnailImage))),I(n,"alt",(e(a),s(()=>e(a).player.equipment.weapon2.name)))}),b("click",n,()=>z.openItemDetails(e(a).player.equipment.weapon2)),b("click",o,()=>z.unequipItem(e(a).player.equipment.weapon2)),r(t,i)},la=t=>{var i=Ka();r(t,i)};_(sa,t=>{e(a),s(()=>e(a).player.equipment.weapon2)?t(ia):t(la,!1)})}v(ue);var ra=m(ue,2);A(ra,1,()=>(e(a),s(()=>e(a).player.equipment.relics)),W,(t,i,n)=>{var o=Ya();ge(o,"",{},{"background-image":"url('./game_icons/bgsq2.png')","background-size":"100% 100%","background-repeat":"no-repeat"});var d=p(o);{var y=x=>{var D=Oa(),B=F(D),Z=m(B,2);f(()=>{I(B,"src",(e(i),s(()=>e(i).thumbnailImage))),I(B,"alt",(e(i),s(()=>e(i).name)))}),b("click",B,()=>z.openItemDetails(e(i))),b("click",Z,()=>z.unequipItem(e(i))),r(x,D)},Q=x=>{var D=Va();D.textContent=`Relic ${n+1}`,r(x,D)};_(d,x=>{e(i)?x(y):x(Q,!1)})}v(o),r(t,o)}),v(Ae),v(ze);var Me=m(ze,2),ye=p(Me),qe=p(ye);let We;var ke=m(qe,2);let Re;var Te=m(ke,2);let Ne;v(ye);var Le=m(ye,2),va=p(Le);{var na=t=>{var i=tt();A(i,5,()=>e(R),n=>n.item.id,(n,o)=>{var d=et();ge(d,"",{},{"background-image":"url('./game_icons/bgsq1.png')","background-size":"100% 100%","background-repeat":"no-repeat"});var y=p(d),Q=m(y,2);{var x=D=>{var B=Za(),Z=p(B);v(B),f(()=>q(Z,`x${e(o),s(()=>e(o).quantity)??""}`)),r(D,B)};_(Q,D=>{e(o),s(()=>e(o).quantity>1)&&D(x)})}v(d),f(()=>{I(y,"src",(e(o),s(()=>e(o).item.thumbnailImage))),I(y,"alt",(e(o),s(()=>e(o).item.name)))}),b("click",y,()=>z.openItemDetails(e(o).item)),r(n,d)},n=>{var o=at();r(n,o)}),v(i),r(t,i)},oa=t=>{var i=st();r(t,i)};_(va,t=>{e(R),s(()=>e(R).length>0)?t(na):t(oa,!1)})}v(Le),v(Me),v(re);var ca=m(re,2);{var ma=t=>{var i=bt(),n=p(i),o=p(n),d=m(o,2),y=p(d,!0);v(d);var Q=m(d,2),x=m(Q,2),D=p(x);{var B=l=>{var u=it();r(l,u)};_(D,l=>{e(a),s(()=>e(a).selectedItem.equippable)&&l(B)})}var Z=m(D,2);{var da=l=>{var u=lt();r(l,u)};_(Z,l=>{e(a),s(()=>e(a).selectedItem.consumable)&&l(da)})}var Ue=m(Z,2);{var pa=l=>{var u=rt();r(l,u)};_(Ue,l=>{e(a),s(()=>e(a).selectedItem.special)&&l(pa)})}var ua=m(Ue,2);{var _a=l=>{var u=vt(),$=p(u);v(u),f(h=>q($,`x${h??""}`),[()=>(e(a),s(()=>me(e(a).selectedItem)))]),r(l,u)};_(ua,l=>{e(a),s(()=>me(e(a).selectedItem)>0)&&l(_a)})}v(x);var Xe=m(x,2);{var fa=l=>{var u=nt(),$=p(u,!0);v(u),f(()=>q($,(e(a),s(()=>e(a).selectedItem.description)))),r(l,u)};_(Xe,l=>{e(a),s(()=>e(a).selectedItem.description)&&l(fa)})}var Ge=m(Xe,2);{var ga=l=>{var u=ct();A(u,5,()=>(e(a),s(()=>e(a).selectedItem.types)),W,($,h)=>{var L=Be(),ee=F(L);{var Ee=ve=>{var ae=ot();f(()=>{I(ae,"src",(se(U),e(h),s(()=>k+U[e(h)]))),I(ae,"alt",e(h)),I(ae,"title",e(h))}),r(ve,ae)};_(ee,ve=>{se(U),e(h),s(()=>U[e(h)])&&ve(Ee)})}r($,L)}),v(u),r(l,u)};_(Ge,l=>{e(a),s(()=>e(a).selectedItem.types&&e(a).selectedItem.types.length>0)&&l(ga)})}var He=m(Ge,2);{var ba=l=>{var u=dt();A(u,5,()=>(e(a),s(()=>e(a).selectedItem.stats)),W,($,h)=>{var L=mt(),ee=p(L);v(L),f(()=>q(ee,`${e(h),s(()=>e(h).name)??""}: ${e(h),s(()=>e(h).value)??""}`)),r($,L)}),v(u),r(l,u)};_(He,l=>{e(a),s(()=>e(a).selectedItem.stats&&e(a).selectedItem.stats.length>0)&&l(ba)})}var Je=m(He,2);{var wa=l=>{var u=ft(),$=m(F(u),2),h=p($);{var L=C=>{var M=Be(),ne=F(M);A(ne,1,()=>(e(a),s(()=>Object.entries(e(a).selectedItem.effects))),W,(oe,P)=>{var te=Ea(()=>Ca(e(P),2));let fe=()=>e(te)[0],Ce=()=>e(te)[1];var Se=pt(),za=p(Se);v(Se),f(ya=>q(za,`${ya??""}: ${Ce()??""}`),[()=>(fe(),s(()=>fe().toUpperCase()))]),r(oe,Se)}),r(C,M)};_(h,C=>{e(a),s(()=>e(a).selectedItem.effects)&&C(L)})}var ee=m(h,2);{var Ee=C=>{var M=ut(),ne=p(M);v(M),f(oe=>q(ne,`${oe??""}: +${e(a),s(()=>e(a).selectedItem.buff.value)??""} for ${e(a),s(()=>e(a).selectedItem.buff.duration)??""} steps`),[()=>(e(a),s(()=>e(a).selectedItem.buff.stat.toUpperCase()))]),r(C,M)};_(ee,C=>{e(a),s(()=>e(a).selectedItem.buff)&&C(Ee)})}var ve=m(ee,2);{var ae=C=>{var M=Be(),ne=F(M);A(ne,1,()=>(e(a),s(()=>e(a).selectedItem.buffs)),W,(oe,P)=>{var te=_t(),fe=p(te);v(te),f(Ce=>q(fe,`${Ce??""}: ${e(P),s(()=>e(P).type==="percentage"?`${e(P).value*100}%`:`+${e(P).value}`)??""} for ${e(P),s(()=>e(P).duration)??""} steps`),[()=>(e(P),s(()=>e(P).stat.toUpperCase()))]),r(oe,te)}),r(C,M)};_(ve,C=>{e(a),s(()=>e(a).selectedItem.buffs)&&C(ae)})}v($),r(l,u)};_(Je,l=>{e(a),s(()=>e(a).selectedItem.consumable&&(e(a).selectedItem.effects||e(a).selectedItem.buff||e(a).selectedItem.buffs))&&l(wa)})}var Qe=m(Je,2),xe=p(Qe),De=m(xe,2),_e=m(De,2),$e=p(_e),ha=m($e,2);{var Ia=l=>{var u=gt(),$=p(u,!0);v(u),f(()=>q($,e(w))),r(l,u)};_(ha,l=>{e(G)&&l(Ia)})}v(_e),v(Qe),v(n),v(i),f(l=>{q(y,(e(a),s(()=>e(a).selectedItem.name))),I(Q,"src",(e(a),s(()=>e(a).selectedItem.thumbnailImage))),I(Q,"alt",(e(a),s(()=>e(a).selectedItem.name))),xe.disabled=l,De.disabled=(e(a),s(()=>!e(a).selectedItem.consumable)),$e.disabled=(e(a),s(()=>e(a).selectedItem.cannotDrop||e(a).selectedItem.special))},[()=>(e(a),s(()=>!e(a).selectedItem.equippable||ie(e(a).selectedItem)))]),b("click",o,function(...l){z.closeItemDetails?.apply(this,l)}),b("click",xe,()=>z.equipItem(e(a).selectedItem)),b("click",De,()=>z.consumeItem(e(a).selectedItem)),b("click",$e,()=>z.dropItem(e(a).selectedItem)),b("mouseenter",_e,()=>T(e(a).selectedItem)),b("mouseleave",_e,Y),b("click",n,Ba(function(l){Pa.call(this,K,l)})),b("click",i,function(...l){z.closeItemDetails?.apply(this,l)}),r(t,i)};_(ca,t=>{e(a),s(()=>e(a).showItemDetails&&e(a).selectedItem)&&t(ma)})}v(H),Sa(H,t=>S(E,t),()=>e(E)),f((t,i,n)=>{We=ce(qe,1,"tab-button svelte-1v7w2z9",null,We,t),Re=ce(ke,1,"tab-button svelte-1v7w2z9",null,Re,i),Ne=ce(Te,1,"tab-button svelte-1v7w2z9",null,Ne,n)},[()=>({active:e(g)==="general"}),()=>({active:e(g)==="weapons"}),()=>({active:e(g)==="relics"})]),b("click",qe,()=>S(g,"general")),b("click",ke,()=>S(g,"weapons")),b("click",Te,()=>S(g,"relics")),r(be,H),Ye(),we()}export{Rt as component};
