import"../chunks/DsnmJJEf.js";import"../chunks/SHE-Eawp.js";import{o as Qe}from"../chunks/CISUGYC8.js";import{ad as Ye,O as S,ae as h,af as ze,ag as Ae,a5 as m,ac as j,a6 as v,ah as Fe,ai as He,g as e,a8 as o,a7 as p,b as l,a9 as r,ab as M}from"../chunks/B7Bxd_9_.js";import{e as d,s as C}from"../chunks/sCU6v1re.js";import{i as _}from"../chunks/CzpE0DJu.js";import{e as V,i as ue}from"../chunks/gF93KO7x.js";import{h as Je}from"../chunks/BUQRe8YB.js";import{s as q}from"../chunks/GfmKZXy5.js";import{g as f,s as X,i as de,a as Z,b as Ke,c as Ve}from"../chunks/D4nx_CMT.js";import{s as Xe,b as Ze,a as et}from"../chunks/Dacigmw8.js";import{i as tt}from"../chunks/ujNSNToK.js";var at=m('<img class="item-thumbnail svelte-1je6c2f"/> <button class="unequip-button svelte-1je6c2f">Unequip</button>',1),st=m('<div class="empty-slot svelte-1je6c2f">Weapon 1</div>'),it=m('<img class="item-thumbnail svelte-1je6c2f"/> <button class="unequip-button svelte-1je6c2f">Unequip</button>',1),lt=m('<div class="empty-slot svelte-1je6c2f">Weapon 2</div>'),nt=m('<img class="item-thumbnail svelte-1je6c2f"/> <button class="unequip-button svelte-1je6c2f">Unequip</button>',1),ot=m('<div class="empty-slot svelte-1je6c2f"></div>'),rt=m('<div class="equipment-slot svelte-1je6c2f"><!></div>'),ct=m('<span class="item-quantity-tooltip svelte-1je6c2f"> </span>'),vt=m('<div class="item-slot svelte-1je6c2f"><img class="item-thumbnail svelte-1je6c2f"/> <!></div>'),pt=m("<p>No items in this category.</p>"),mt=m('<div class="backpack-grid svelte-1je6c2f"></div>'),ut=m("<p>No items in this category.</p>"),dt=m('<span class="item-tag equippable svelte-1je6c2f">Equippable</span>'),ft=m('<span class="item-tag consumable svelte-1je6c2f">Consumable</span>'),_t=m('<span class="item-tag special svelte-1je6c2f">Special</span>'),bt=m('<span class="item-tag quantity svelte-1je6c2f"> </span>'),gt=m('<p class="item-description svelte-1je6c2f"> </p>'),jt=m("<li> </li>"),It=m('<h4 class="svelte-1je6c2f">Stats:</h4> <ul></ul>',1),ht=m('<span class="drop-tooltip svelte-1je6c2f"> </span>'),qt=m('<div class="item-details-modal-overlay svelte-1je6c2f"><div class="item-details-modal svelte-1je6c2f"><button class="close-modal-button svelte-1je6c2f">&times;</button> <h3 class="svelte-1je6c2f"> </h3> <img class="modal-item-thumbnail svelte-1je6c2f"/> <div class="item-tags svelte-1je6c2f"><!> <!> <!> <!></div> <!> <!> <div class="item-actions svelte-1je6c2f"><button class="equip-button svelte-1je6c2f">Equip</button> <button class="consume-button svelte-1je6c2f">Consume</button> <div class="drop-button-container svelte-1je6c2f"><button class="svelte-1je6c2f">Drop</button> <!></div></div></div></div>'),yt=m('<main tabindex="0" class="svelte-1je6c2f"><h1 class="svelte-1je6c2f">Inventory</h1> <div class="inventory-container svelte-1je6c2f"><div class="equipment-panel svelte-1je6c2f"><h2 class="svelte-1je6c2f">Equipment</h2> <div class="equipment-grid svelte-1je6c2f"><div class="equipment-slot svelte-1je6c2f"><!></div> <div class="equipment-slot svelte-1je6c2f"><!></div> <!></div></div> <div class="backpack-panel svelte-1je6c2f"><div class="tab-navigation svelte-1je6c2f"><button><img src="./images/sprites/game_icons/general_tab.png" alt="General" class="tab-icon svelte-1je6c2f"/> General</button> <button><img src="./images/sprites/game_icons/weapons_tab.png" alt="Weapons" class="tab-icon svelte-1je6c2f"/> Weapons</button> <button><img src="./images/sprites/game_icons/relics_tab.png" alt="Relics" class="tab-icon svelte-1je6c2f"/> Relics</button></div> <div class="tab-content svelte-1je6c2f"><!></div></div></div> <!></main>');function Mt(fe,ee){Ye(ee,!1);const[_e,be]=et(),ge=()=>Xe(f,"$gameStore",_e),R=S();let t=S(ge()),y=S("general");f.subscribe(a=>{h(t,a)});let W=S();Qe(()=>{e(W)&&e(W).focus();const a=s=>{s.key==="Escape"&&e(t).showItemDetails&&f.closeItemDetails()};return window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}});let T=S(!1),U=S("");function je(a){(a.cannotDrop||a.special)&&(h(T,!0),h(U,"You can't drop that, it's important or special!"))}function Ie(){h(T,!1),h(U,"")}function he(a){if(!a)return!1;const s=e(t).player.equipment;return!!(s.weapon1&&s.weapon1.id===a.id||s.weapon2&&s.weapon2.id===a.id||s.relics.some(n=>n&&n.id===a.id))}function te(a){if(!a)return 0;const s=e(t).player.backpack.find(n=>n.item.id===a.id);return s?s.quantity:0}ze(()=>(e(t),e(y),Z),()=>{h(R,e(t).player.backpack.filter(a=>e(y)==="weapons"?de(a.item):e(y)==="relics"?Z(a.item):!de(a.item)&&!Z(a.item)))}),Ae(),tt();var $=yt();Je(a=>{He.title="Inventory - RPG"});var N=o(p($),2),P=p(N),ae=o(p(P),2),B=p(ae),qe=p(B);{var ye=a=>{var s=at(),n=M(s),c=o(n,2);j(()=>{q(n,"src",(e(t),l(()=>e(t).player.equipment.weapon1.thumbnailImage))),q(n,"alt",(e(t),l(()=>e(t).player.equipment.weapon1.name)))}),d("click",n,()=>f.openItemDetails(e(t).player.equipment.weapon1)),d("click",c,()=>f.unequipItem(e(t).player.equipment.weapon1)),v(a,s)},we=a=>{var s=st();v(a,s)};_(qe,a=>{e(t),l(()=>e(t).player.equipment.weapon1)?a(ye):a(we,!1)})}r(B);var O=o(B,2),ke=p(O);{var De=a=>{var s=it(),n=M(s),c=o(n,2);j(()=>{q(n,"src",(e(t),l(()=>e(t).player.equipment.weapon2.thumbnailImage))),q(n,"alt",(e(t),l(()=>e(t).player.equipment.weapon2.name)))}),d("click",n,()=>f.openItemDetails(e(t).player.equipment.weapon2)),d("click",c,()=>f.unequipItem(e(t).player.equipment.weapon2)),v(a,s)},xe=a=>{var s=lt();v(a,s)};_(ke,a=>{e(t),l(()=>e(t).player.equipment.weapon2)?a(De):a(xe,!1)})}r(O);var Ee=o(O,2);V(Ee,1,()=>(e(t),l(()=>e(t).player.equipment.relics)),ue,(a,s,n)=>{var c=rt(),w=p(c);{var k=b=>{var g=nt(),I=M(g),E=o(I,2);j(()=>{q(I,"src",(e(s),l(()=>e(s).thumbnailImage))),q(I,"alt",(e(s),l(()=>e(s).name)))}),d("click",I,()=>f.openItemDetails(e(s))),d("click",E,()=>f.unequipItem(e(s))),v(b,g)},x=b=>{var g=ot();g.textContent=`Relic ${n+1}`,v(b,g)};_(w,b=>{e(s)?b(k):b(x,!1)})}r(c),v(a,c)}),r(ae),r(P);var se=o(P,2),Q=p(se),Y=p(Q);let ie;var z=o(Y,2);let le;var ne=o(z,2);let oe;r(Q);var re=o(Q,2),Se=p(re);{var Ce=a=>{var s=mt();V(s,5,()=>e(R),n=>n.item.id,(n,c)=>{var w=vt(),k=p(w),x=o(k,2);{var b=g=>{var I=ct(),E=p(I);r(I),j(()=>C(E,`x${e(c),l(()=>e(c).quantity)??""}`)),v(g,I)};_(x,g=>{e(c),l(()=>e(c).quantity>1)&&g(b)})}r(w),j(()=>{q(k,"src",(e(c),l(()=>e(c).item.thumbnailImage))),q(k,"alt",(e(c),l(()=>e(c).item.name)))}),d("click",k,()=>f.openItemDetails(e(c).item)),v(n,w)},n=>{var c=pt();v(n,c)}),r(s),v(a,s)},Re=a=>{var s=ut();v(a,s)};_(Se,a=>{e(R),l(()=>e(R).length>0)?a(Ce):a(Re,!1)})}r(re),r(se),r(N);var We=o(N,2);{var $e=a=>{var s=qt(),n=p(s),c=p(n),w=o(c,2),k=p(w,!0);r(w);var x=o(w,2),b=o(x,2),g=p(b);{var I=i=>{var u=dt();v(i,u)};_(g,i=>{e(t),l(()=>e(t).selectedItem.equippable)&&i(I)})}var E=o(g,2);{var Ge=i=>{var u=ft();v(i,u)};_(E,i=>{e(t),l(()=>e(t).selectedItem.consumable)&&i(Ge)})}var ce=o(E,2);{var Le=i=>{var u=_t();v(i,u)};_(ce,i=>{e(t),l(()=>e(t).selectedItem.special)&&i(Le)})}var Me=o(ce,2);{var Te=i=>{var u=bt(),D=p(u);r(u),j(J=>C(D,`x${J??""}`),[()=>(e(t),l(()=>te(e(t).selectedItem)))]),v(i,u)};_(Me,i=>{e(t),l(()=>te(e(t).selectedItem)>0)&&i(Te)})}r(b);var ve=o(b,2);{var Ue=i=>{var u=gt(),D=p(u,!0);r(u),j(()=>C(D,(e(t),l(()=>e(t).selectedItem.description)))),v(i,u)};_(ve,i=>{e(t),l(()=>e(t).selectedItem.description)&&i(Ue)})}var pe=o(ve,2);{var Ne=i=>{var u=It(),D=o(M(u),2);V(D,5,()=>(e(t),l(()=>e(t).selectedItem.stats)),ue,(J,L)=>{var K=jt(),Oe=p(K);r(K),j(()=>C(Oe,`${e(L),l(()=>e(L).name)??""}: ${e(L),l(()=>e(L).value)??""}`)),v(J,K)}),r(D),v(i,u)};_(pe,i=>{e(t),l(()=>e(t).selectedItem.stats.length>0)&&i(Ne)})}var me=o(pe,2),A=p(me),F=o(A,2),G=o(F,2),H=p(G),Pe=o(H,2);{var Be=i=>{var u=ht(),D=p(u,!0);r(u),j(()=>C(D,e(U))),v(i,u)};_(Pe,i=>{e(T)&&i(Be)})}r(G),r(me),r(n),r(s),j(i=>{C(k,(e(t),l(()=>e(t).selectedItem.name))),q(x,"src",(e(t),l(()=>e(t).selectedItem.thumbnailImage))),q(x,"alt",(e(t),l(()=>e(t).selectedItem.name))),A.disabled=i,F.disabled=(e(t),l(()=>!e(t).selectedItem.consumable)),H.disabled=(e(t),l(()=>e(t).selectedItem.cannotDrop||e(t).selectedItem.special))},[()=>(e(t),l(()=>!e(t).selectedItem.equippable||he(e(t).selectedItem)))]),d("click",c,function(...i){f.closeItemDetails?.apply(this,i)}),d("click",A,()=>f.equipItem(e(t).selectedItem)),d("click",F,()=>f.consumeItem(e(t).selectedItem)),d("click",H,()=>f.dropItem(e(t).selectedItem)),d("mouseenter",G,()=>je(e(t).selectedItem)),d("mouseleave",G,Ie),d("click",n,Ke(function(i){Ve.call(this,ee,i)})),d("click",s,function(...i){f.closeItemDetails?.apply(this,i)}),v(a,s)};_(We,a=>{e(t),l(()=>e(t).showItemDetails&&e(t).selectedItem)&&a($e)})}r($),Ze($,a=>h(W,a),()=>e(W)),j((a,s,n)=>{ie=X(Y,1,"tab-button svelte-1je6c2f",null,ie,a),le=X(z,1,"tab-button svelte-1je6c2f",null,le,s),oe=X(ne,1,"tab-button svelte-1je6c2f",null,oe,n)},[()=>({active:e(y)==="general"}),()=>({active:e(y)==="weapons"}),()=>({active:e(y)==="relics"})]),d("click",Y,()=>h(y,"general")),d("click",z,()=>h(y,"weapons")),d("click",ne,()=>h(y,"relics")),v(fe,$),Fe(),be()}export{Mt as component};
