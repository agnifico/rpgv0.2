import"../chunks/DsnmJJEf.js";import"../chunks/DKbr7FTX.js";import{o as Oe}from"../chunks/CyCOytMA.js";import{ak as Ve,a5 as C,aw as y,ay as Xe,az as Ze,al as c,aA as et,as as k,au as d,am as u,an as tt,aB as at,ao as v,P as e,aq as r,ap as o,av as st,u as l,ar as B,at as W}from"../chunks/MrBcGwl5.js";import{i as g}from"../chunks/CgIxXxhB.js";import{e as ee,i as fe}from"../chunks/BrZ-0oqd.js";import{a as q,s as te}from"../chunks/DEeg4q6a.js";import{s as z}from"../chunks/CtQ7uExx.js";import{b as it}from"../chunks/BH8cJuky.js";import{s as lt,b as nt}from"../chunks/DEdAOqeD.js";import{i as rt}from"../chunks/jgPfo2ed.js";import{s as ot,a as vt}from"../chunks/TzUclg7W.js";import{g as b,i as qe,a as ae}from"../chunks/D_1I4pui.js";var mt=c('<img class="item-thumbnail svelte-ubes8m"/> <button class="unequip-button svelte-ubes8m">Unequip</button>',1),ut=c('<div class="empty-slot svelte-ubes8m">Weapon 1</div>'),ct=c('<img class="item-thumbnail svelte-ubes8m"/> <button class="unequip-button svelte-ubes8m">Unequip</button>',1),pt=c('<div class="equipment-slot svelte-ubes8m">Weapon 2</div>'),dt=c('<img class="item-thumbnail svelte-ubes8m"/> <button class="unequip-button svelte-ubes8m">Unequip</button>',1),bt=c('<div class="empty-slot svelte-ubes8m"></div>'),_t=c('<div class="equipment-slot svelte-ubes8m"><!></div>'),gt=c('<span class="item-quantity-tooltip svelte-ubes8m"> </span>'),ft=c('<div class="item-slot svelte-ubes8m"><img class="item-thumbnail svelte-ubes8m"/> <!></div>'),qt=c("<p>No items in this category.</p>"),kt=c('<div class="backpack-grid svelte-ubes8m"></div>'),It=c("<p>No items in this category.</p>"),ht=c('<span class="item-tag equippable svelte-ubes8m">Equippable</span>'),yt=c('<span class="item-tag consumable svelte-ubes8m">Consumable</span>'),wt=c('<span class="item-tag special svelte-ubes8m">Special</span>'),Dt=c('<span class="item-tag quantity svelte-ubes8m"> </span>'),xt=c('<p class="item-description svelte-ubes8m"> </p>'),Et=c("<li> </li>"),zt=c('<h4 class="svelte-ubes8m">Stats:</h4> <ul></ul>',1),St=c('<span class="drop-tooltip svelte-ubes8m"> </span>'),Ct=c('<div class="item-details-modal-overlay svelte-ubes8m"><div class="item-details-modal svelte-ubes8m"><button class="close-modal-button svelte-ubes8m">&times;</button> <h3 class="svelte-ubes8m"> </h3> <img class="modal-item-thumbnail svelte-ubes8m"/> <div class="item-tags svelte-ubes8m"><!> <!> <!> <!></div> <!> <!> <div class="item-actions svelte-ubes8m"><button class="equip-button svelte-ubes8m">Equip</button> <button class="consume-button svelte-ubes8m">Consume</button> <div class="drop-button-container svelte-ubes8m"><button class="svelte-ubes8m">Drop</button> <!></div></div></div></div>'),Wt=c('<main tabindex="0" class="svelte-ubes8m"><div class="stats-container svelte-ubes8m"><div class="level">25</div> <div class="elements svelte-ubes8m"><div class="weapon-element svelte-ubes8m"><img alt="" srcset="" class="svelte-ubes8m"/></div> <div class="weapon-element svelte-ubes8m"><img alt="" srcset="" class="svelte-ubes8m"/></div></div> <div class="main-stats svelte-ubes8m"><div class="stat svelte-ubes8m"><div class="stat-label svelte-ubes8m">Attack</div> <div class="stat-value svelte-ubes8m">69</div></div> <div class="stat svelte-ubes8m"><div class="stat-label svelte-ubes8m">Defence</div> <div class="stat-value svelte-ubes8m">69</div></div> <div class="stat svelte-ubes8m"><div class="stat-label svelte-ubes8m">Armour</div> <div class="stat-value svelte-ubes8m">69</div></div> <div class="stat svelte-ubes8m"><div class="stat-label svelte-ubes8m">Damage</div> <div class="stat-value svelte-ubes8m">69</div></div></div></div> <div class="inventory-container svelte-ubes8m"><div class="equipment-panel svelte-ubes8m"><h2 class="svelte-ubes8m">Equipment</h2> <div class="equipment-grid svelte-ubes8m"><div class="equipment-slot svelte-ubes8m"><!></div> <div class="equipment-slot svelte-ubes8m"><!></div> <!></div></div> <div class="backpack-panel svelte-ubes8m"><div class="tab-navigation svelte-ubes8m"><button><img src="./game_icons/general_tab.png" alt="General" class="tab-icon svelte-ubes8m"/> General</button> <button><img src="./game_icons/weapons_tab.png" alt="Weapons" class="tab-icon svelte-ubes8m"/> Weapons</button> <button><img src="./game_icons/relics_tab.png" alt="Relics" class="tab-icon svelte-ubes8m"/> Relics</button></div> <div class="tab-content svelte-ubes8m"><!></div></div></div> <!></main>');function Yt(ke,se){Ve(se,!1);const[Ie,he]=vt(),ye=()=>ot(b,"$gameStore",Ie),R=C();let t=C(ye()),w=C("general");b.subscribe(a=>{y(t,a)});let $=C();Oe(()=>{e($)&&e($).focus();const a=s=>{s.key==="Escape"&&e(t).showItemDetails&&b.closeItemDetails()};return window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}});let G=C(!1),N=C("");function we(a){(a.cannotDrop||a.special)&&(y(G,!0),y(N,"You can't drop that, it's important or special!"))}function De(){y(G,!1),y(N,"")}function xe(a){if(!a)return!1;const s=e(t).player.equipment;return!!(s.weapon1&&s.weapon1.id===a.id||s.weapon2&&s.weapon2.id===a.id||s.relics.some(n=>n&&n.id===a.id))}function ie(a){if(!a)return 0;const s=e(t).player.backpack.find(n=>n.item.id===a.id);return s?s.quantity:0}Xe(()=>(e(t),e(w),ae),()=>{y(R,e(t).player.backpack.filter(a=>e(w)==="weapons"?qe(a.item):e(w)==="relics"?ae(a.item):!qe(a.item)&&!ae(a.item)))}),Ze(),rt();var A=Wt();et(a=>{at.title="Dawn's Journey : Inventory"});var P=v(A),le=r(v(P),2),J=v(le),Ee=v(J);q(Ee,"src","./game_icons/heart_rank.png"),o(J);var ne=r(J,2),ze=v(ne);q(ze,"src","./game_icons/heart_rank.png"),o(ne),o(le),st(2),o(P);var Q=r(P,2),Y=v(Q),re=r(v(Y),2),L=v(re);z(L,"",{},{"background-image":"url('./game_icons/bgsq1.png')","background-size":"100% 100%","background-repeat":"no-repeat"});var Se=v(L);{var Ce=a=>{var s=mt(),n=B(s),m=r(n,2);k(()=>{q(n,"src",(e(t),l(()=>e(t).player.equipment.weapon1.thumbnailImage))),q(n,"alt",(e(t),l(()=>e(t).player.equipment.weapon1.name)))}),d("click",n,()=>b.openItemDetails(e(t).player.equipment.weapon1)),d("click",m,()=>b.unequipItem(e(t).player.equipment.weapon1)),u(a,s)},We=a=>{var s=ut();z(s,"",{},{"background-image":"url('./game_icons/bgsq2.png')","background-size":"100% 100%","background-repeat":"no-repeat"}),u(a,s)};g(Se,a=>{e(t),l(()=>e(t).player.equipment.weapon1)?a(Ce):a(We,!1)})}o(L);var M=r(L,2);z(M,"",{},{"background-image":"url('./game_icons/bgsq1.png')","background-size":"100% 100%","background-repeat":"no-repeat"});var Re=v(M);{var $e=a=>{var s=ct(),n=B(s),m=r(n,2);k(()=>{q(n,"src",(e(t),l(()=>e(t).player.equipment.weapon2.thumbnailImage))),q(n,"alt",(e(t),l(()=>e(t).player.equipment.weapon2.name)))}),d("click",n,()=>b.openItemDetails(e(t).player.equipment.weapon2)),d("click",m,()=>b.unequipItem(e(t).player.equipment.weapon2)),u(a,s)},Ae=a=>{var s=pt();z(s,"",{},{"background-image":"url('./game_icons/bgsq2.png')","background-size":"100% 100%","background-repeat":"no-repeat"}),u(a,s)};g(Re,a=>{e(t),l(()=>e(t).player.equipment.weapon2)?a($e):a(Ae,!1)})}o(M);var Le=r(M,2);ee(Le,1,()=>(e(t),l(()=>e(t).player.equipment.relics)),fe,(a,s,n)=>{var m=_t();z(m,"",{},{"background-image":"url('./game_icons/bgsq1.png')","background-size":"100% 100%","background-repeat":"no-repeat"});var I=v(m);{var D=f=>{var _=dt(),h=B(_),S=r(h,2);k(()=>{q(h,"src",(e(s),l(()=>e(s).thumbnailImage))),q(h,"alt",(e(s),l(()=>e(s).name)))}),d("click",h,()=>b.openItemDetails(e(s))),d("click",S,()=>b.unequipItem(e(s))),u(f,_)},E=f=>{var _=bt();z(_,"",{},{"background-image":"url('./game_icons/bgsq2.png')","background-size":"100% 100%","background-repeat":"no-repeat"}),_.textContent=`Relic ${n+1}`,u(f,_)};g(I,f=>{e(s)?f(D):f(E,!1)})}o(m),u(a,m)}),o(re),o(Y);var oe=r(Y,2),j=v(oe),F=v(j);let ve;var H=r(F,2);let me;var ue=r(H,2);let ce;o(j);var pe=r(j,2),Me=v(pe);{var Te=a=>{var s=kt();ee(s,5,()=>e(R),n=>n.item.id,(n,m)=>{var I=ft();z(I,"",{},{"background-image":"url('./game_icons/bgsq1.png')","background-size":"100% 100%","background-repeat":"no-repeat"});var D=v(I),E=r(D,2);{var f=_=>{var h=gt(),S=v(h);o(h),k(()=>W(S,`x${e(m),l(()=>e(m).quantity)??""}`)),u(_,h)};g(E,_=>{e(m),l(()=>e(m).quantity>1)&&_(f)})}o(I),k(()=>{q(D,"src",(e(m),l(()=>e(m).item.thumbnailImage))),q(D,"alt",(e(m),l(()=>e(m).item.name)))}),d("click",D,()=>b.openItemDetails(e(m).item)),u(n,I)},n=>{var m=qt();u(n,m)}),o(s),u(a,s)},Ue=a=>{var s=It();u(a,s)};g(Me,a=>{e(R),l(()=>e(R).length>0)?a(Te):a(Ue,!1)})}o(pe),o(oe),o(Q);var Be=r(Q,2);{var Ge=a=>{var s=Ct(),n=v(s),m=v(n),I=r(m,2),D=v(I,!0);o(I);var E=r(I,2),f=r(E,2),_=v(f);{var h=i=>{var p=ht();u(i,p)};g(_,i=>{e(t),l(()=>e(t).selectedItem.equippable)&&i(h)})}var S=r(_,2);{var Ne=i=>{var p=yt();u(i,p)};g(S,i=>{e(t),l(()=>e(t).selectedItem.consumable)&&i(Ne)})}var de=r(S,2);{var Pe=i=>{var p=wt();u(i,p)};g(de,i=>{e(t),l(()=>e(t).selectedItem.special)&&i(Pe)})}var Je=r(de,2);{var Qe=i=>{var p=Dt(),x=v(p);o(p),k(X=>W(x,`x${X??""}`),[()=>(e(t),l(()=>ie(e(t).selectedItem)))]),u(i,p)};g(Je,i=>{e(t),l(()=>ie(e(t).selectedItem)>0)&&i(Qe)})}o(f);var be=r(f,2);{var Ye=i=>{var p=xt(),x=v(p,!0);o(p),k(()=>W(x,(e(t),l(()=>e(t).selectedItem.description)))),u(i,p)};g(be,i=>{e(t),l(()=>e(t).selectedItem.description)&&i(Ye)})}var _e=r(be,2);{var je=i=>{var p=zt(),x=r(B(p),2);ee(x,5,()=>(e(t),l(()=>e(t).selectedItem.stats)),fe,(X,U)=>{var Z=Et(),Ke=v(Z);o(Z),k(()=>W(Ke,`${e(U),l(()=>e(U).name)??""}: ${e(U),l(()=>e(U).value)??""}`)),u(X,Z)}),o(x),u(i,p)};g(_e,i=>{e(t),l(()=>e(t).selectedItem.stats.length>0)&&i(je)})}var ge=r(_e,2),K=v(ge),O=r(K,2),T=r(O,2),V=v(T),Fe=r(V,2);{var He=i=>{var p=St(),x=v(p,!0);o(p),k(()=>W(x,e(N))),u(i,p)};g(Fe,i=>{e(G)&&i(He)})}o(T),o(ge),o(n),o(s),k(i=>{W(D,(e(t),l(()=>e(t).selectedItem.name))),q(E,"src",(e(t),l(()=>e(t).selectedItem.thumbnailImage))),q(E,"alt",(e(t),l(()=>e(t).selectedItem.name))),K.disabled=i,O.disabled=(e(t),l(()=>!e(t).selectedItem.consumable)),V.disabled=(e(t),l(()=>e(t).selectedItem.cannotDrop||e(t).selectedItem.special))},[()=>(e(t),l(()=>!e(t).selectedItem.equippable||xe(e(t).selectedItem)))]),d("click",m,function(...i){b.closeItemDetails?.apply(this,i)}),d("click",K,()=>b.equipItem(e(t).selectedItem)),d("click",O,()=>b.consumeItem(e(t).selectedItem)),d("click",V,()=>b.dropItem(e(t).selectedItem)),d("mouseenter",T,()=>we(e(t).selectedItem)),d("mouseleave",T,De),d("click",n,lt(function(i){nt.call(this,se,i)})),d("click",s,function(...i){b.closeItemDetails?.apply(this,i)}),u(a,s)};g(Be,a=>{e(t),l(()=>e(t).showItemDetails&&e(t).selectedItem)&&a(Ge)})}o(A),it(A,a=>y($,a),()=>e($)),k((a,s,n)=>{ve=te(F,1,"tab-button svelte-ubes8m",null,ve,a),me=te(H,1,"tab-button svelte-ubes8m",null,me,s),ce=te(ue,1,"tab-button svelte-ubes8m",null,ce,n)},[()=>({active:e(w)==="general"}),()=>({active:e(w)==="weapons"}),()=>({active:e(w)==="relics"})]),d("click",F,()=>y(w,"general")),d("click",H,()=>y(w,"weapons")),d("click",ue,()=>y(w,"relics")),u(ke,A),tt(),he()}export{Yt as component};
