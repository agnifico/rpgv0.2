import"../chunks/DsnmJJEf.js";import"../chunks/BICuxwOm.js";import{o as Z}from"../chunks/dkP-lNZr.js";import{ap as aa,C as $,aq as u,ar as i,as as ea,k as j,at as r,au as t,av as a,aw as q,ax as ta,d as s,ay as sa,az as A,aA as M,aB as oa}from"../chunks/eVu4eyQM.js";import{i as P}from"../chunks/CbkWCvrX.js";import{e as ra,i as la}from"../chunks/Unz2ohpb.js";import{r as na,s as l}from"../chunks/C1T0uLfW.js";import{s as ca}from"../chunks/OT850oBl.js";import{b as ia}from"../chunks/BvzZmEeN.js";import{i as va}from"../chunks/BQk6HzGS.js";import{s as pa,a as da}from"../chunks/DDy39nHp.js";import{g as y,n as ma}from"../chunks/BOSI5car.js";var ua=u('<label><input type="radio" name="map-select" class="svelte-1pozced"/> </label>'),_a=u('<div class="map-selection svelte-1pozced"><p class="svelte-1pozced">Select a map to load:</p> <div class="radio-group svelte-1pozced"></div></div> <nav class="svelte-1pozced"><a class="svelte-1pozced"><button class="button-1 svelte-1pozced"><img alt="Map Icon" class="nav-icon svelte-1pozced"/> Map</button></a> <a class="svelte-1pozced"><button class="button-1 svelte-1pozced"><img alt="Inventory Icon" class="nav-icon svelte-1pozced"/> Inventory</button></a> <a class="svelte-1pozced"><button class="button-1 svelte-1pozced"><img alt="Quests Icon" class="nav-icon svelte-1pozced"/>Map Creator</button></a> <a class="svelte-1pozced"><button class="button-1 svelte-1pozced">Test Page</button></a> <a class="svelte-1pozced"><button class="button-1 svelte-1pozced">NPC Creator</button></a></nav>',1),ba=u('<div class="new-game-container svelte-1pozced"><button class="button-1">New Game</button></div>'),ga=u("<p>Loading...</p>"),fa=u(`<main class="svelte-1pozced"><div class="hero svelte-1pozced"><h1 class="svelte-1pozced">Dawn's Journey</h1> <h2 class="svelte-1pozced">A serverless, no database browser based game.</h2> <p class="svelte-1pozced">Coded entirely with HTML, vanilla CSS, and Svelte.js.</p></div> <!></main>`);function La(T,B){aa(B,!1);const[D,H]=da(),_=()=>pa(y,"$gameStore",D),J=[];let b=$(_().currentMapId),G=$(!1);Z(async()=>{await ma.initializeGlobalNpcs(),_().isInitialized||localStorage.getItem("dawn_journey_save")&&await y.loadGame(),j(G,!0)});async function Q(){await y.initializeGame(s(b))}async function U(){await y.startNewGame()}va();var S=fa(),E=r(t(S),2);{var F=n=>{var v=_a(),p=q(v),g=r(t(p),2);ra(g,5,()=>_().availableMaps,la,(W,d)=>{var w=ua();let N;var c=t(w);na(c);var L,X=r(c);a(w),ta((m,Y)=>{N=ca(w,1,"radio-label svelte-1pozced",null,N,m),L!==(L=s(d))&&(c.value=(c.__value=s(d))??""),sa(X,` ${Y??""}`)},[()=>({selected:s(b)===s(d)}),()=>s(d).replace(/_/g," ").replace(/\b\w/g,m=>m.toUpperCase())]),ia(J,[],c,()=>(s(d),s(b)),m=>j(b,m)),A("change",c,Q),i(W,w)}),a(g),a(p);var f=r(p,2),e=t(f);l(e,"href","./map");var o=t(e),C=t(o);l(C,"src","./game_icons/map.png"),M(),a(o),a(e);var z=r(e,2);l(z,"href","./inventory");var x=t(z),O=t(x);l(O,"src","./game_icons/inventory.png"),M(),a(x),a(z);var h=r(z,2);l(h,"href","./map-creator");var I=t(h),R=t(I);l(R,"src","./game_icons/quests.png"),M(),a(I),a(h);var k=r(h,2);l(k,"href","./test");var V=r(k,2);l(V,"href","./npc-creator"),a(f),i(n,v)},K=n=>{var v=oa(),p=q(v);{var g=e=>{var o=ba(),C=t(o);a(o),A("click",C,U),i(e,o)},f=e=>{var o=ga();i(e,o)};P(p,e=>{s(G)?e(g):e(f,!1)},!0)}i(n,v)};P(E,n=>{_().isInitialized?n(F):n(K,!1)})}a(S),i(T,S),ea(),H()}export{La as component};
