import{w as ue,g as $}from"./B_aL4psD.js";import{_ as Y}from"./D9Z9MdNV.js";const me={ariel:()=>Y(()=>import("./BLcAHupu.js"),[],import.meta.url),cygwin:()=>Y(()=>import("./C1P_9ZRV.js"),[],import.meta.url),hela:()=>Y(()=>import("./DPvCooMd.js"),[],import.meta.url),ariadne:()=>Y(()=>import("./BW05CfNE.js"),[],import.meta.url),nyx:()=>Y(()=>import("./CkJFswpc.js"),[],import.meta.url),clawpatra:()=>Y(()=>import("./mY4QVzlM.js"),[],import.meta.url),neela:()=>Y(()=>import("./B7YFklEh.js"),[],import.meta.url),wachiwi:()=>Y(()=>import("./CkuLq6MV.js"),[],import.meta.url)};async function fe(l){return me[l]?(await me[l]()).default:(console.error(`NPC with ID ${l} not found.`),null)}const X=[{id:"amethyst",name:"Amethyst",equippable:!1,stats:[],special:!1,consumable:!1,thumbnailImage:"./general/amethyst.png",description:"A beautiful purple gemstone."},{id:"aquamarine",name:"Aquamarine",equippable:!1,stats:[],special:!1,consumable:!1,thumbnailImage:"./general/aquamarine.png",description:"A sparkling blue-green gemstone."},{id:"argentum",name:"Argentum",equippable:!1,stats:[],special:!1,consumable:!1,thumbnailImage:"./general/argentum.png",description:"A rare and valuable silver-like metal."},{id:"azurite",name:"Azurite",equippable:!1,stats:[],special:!1,consumable:!1,thumbnailImage:"./general/azurite.png",description:"A vibrant blue crystal, said to hold the essence of clear skies and calm waters."},{id:"bear_skin",name:"Bear Skin",equippable:!1,stats:[],special:!1,consumable:!1,thumbnailImage:"./general/bear_skin.png",description:"The hide of a bear, useful for crafting."},{id:"blueberries",name:"Blueberries",equippable:!1,stats:[],special:!1,consumable:!0,effects:{hp:5},thumbnailImage:"./general/blueberries.png",description:"Small, sweet berries.",buff:{stat:"physicalDefence",value:20,duration:50,type:"flat"}},{id:"bread",name:"Bread",equippable:!1,stats:[],special:!1,consumable:!0,effects:{hp:1e3},thumbnailImage:"./general/bread.png",description:"A loaf of freshly baked bread.",buff:{stat:"maxHp",value:.15,duration:100,type:"percentage"}},{id:"citrine",name:"Citrine",equippable:!1,stats:[],special:!1,consumable:!1,thumbnailImage:"./general/citrine.png",description:"A warm yellow gemstone."},{id:"coral_reef",name:"Coral Reef",equippable:!1,stats:[],special:!1,consumable:!1,thumbnailImage:"./general/coral_reef.png",description:"A piece of colorful coral from the reef."},{id:"corn",name:"Corn",equippable:!1,stats:[],special:!1,consumable:!0,effects:{hp:8},thumbnailImage:"./general/corn.png",description:"A cob of sweet corn."},{id:"cotton",name:"Cotton",equippable:!1,stats:[],special:!1,consumable:!1,thumbnailImage:"./general/cotton.png",description:"Soft cotton fibers, useful for crafting."},{id:"cuprum",name:"Cuprum",equippable:!1,stats:[],special:!1,consumable:!1,thumbnailImage:"./general/cuprum.png",description:"A reddish-brown ore, commonly used in crafting and known for its conductivity."},{id:"dragon_fang",name:"Dragon Fang",equippable:!1,stats:[],special:!0,consumable:!1,thumbnailImage:"./general/dragon_fang.png",description:"A razor-sharp fang from a fearsome dragon, a rare and powerful crafting component."},{id:"feather",name:"Feather",equippable:!1,stats:[],special:!1,consumable:!1,thumbnailImage:"./general/feather.png",description:"A light feather, perhaps from a bird of prey."},{id:"fish",name:"Fish",equippable:!1,stats:[],special:!1,consumable:!0,effects:{hp:100,aura:100},thumbnailImage:"./general/fish.png",description:"A freshly caught fish, good for a quick meal."},{id:"forza_mead",name:"Forza Mead",equippable:!1,stats:[],special:!0,consumable:!0,buff:{stat:"physicalDamage",value:10,duration:150},thumbnailImage:"./general/forza_mead.png",description:"A potent mead that invigorates the spirit for 150 steps."},{id:"four_leaf_clover",name:"Four-Leaf Clover",equippable:!1,stats:[],special:!0,consumable:!1,thumbnailImage:"./general/four_leaf_clover.png",description:"A legendary clover, said to bring immense luck to its possessor."},{id:"gold",name:"Gold",equippable:!1,stats:[],special:!1,consumable:!1,thumbnailImage:"./general/gold.png",description:"A gleaming nugget of pure gold, highly prized by merchants and dragons alike."},{id:"island_herb",name:"Island Herb",equippable:!1,stats:[],special:!1,consumable:!0,effects:{hp:5},buff:{stat:"magicDefence",value:5,duration:150},thumbnailImage:"./general/island_herb.png",description:"A common herb found on the island. Slightly boosts magic defence for 150 steps."},{id:"meat",name:"Meat",equippable:!1,stats:[],special:!1,consumable:!0,effects:{hp:20},thumbnailImage:"./general/meat.png",description:"A piece of raw meat."},{id:"omelette",name:"Omelette",equippable:!1,stats:[],special:!1,consumable:!0,effects:{hp:25},thumbnailImage:"./general/omelette.png",description:"A fluffy omelette, a good source of protein."},{id:"onigiri",name:"Onigiri",equippable:!1,stats:[],special:!1,consumable:!0,effects:{hp:12},thumbnailImage:"./general/onigiri.png",description:"A traditional Japanese rice ball."},{id:"onion",name:"Onion",equippable:!1,stats:[],special:!1,consumable:!0,effects:{hp:2},thumbnailImage:"./general/onion.png",description:"A pungent onion.",buffs:[{stat:"physicalDamage",value:15,duration:50,type:"flat"},{stat:"physicalDefence",value:-10,duration:50,type:"flat"}]},{id:"shark_fin",name:"Shark Fin",equippable:!1,stats:[],special:!1,consumable:!1,thumbnailImage:"./general/shark_fin.png",description:"A sharp shark fin, a valuable crafting material."},{id:"shrooms",name:"Shrooms",equippable:!1,stats:[],special:!1,consumable:!0,effects:{hp:3},thumbnailImage:"./general/shrooms.png",description:"Wild mushrooms, some edible, some not."},{id:"stone",name:"Stone",equippable:!1,stats:[],special:!1,consumable:!1,thumbnailImage:"./general/stone.png",description:"A common stone, useful for basic crafting."},{id:"tomato",name:"Tomato",equippable:!1,stats:[],special:!1,consumable:!0,effects:{hp:7},thumbnailImage:"./general/tomato.png",description:"A ripe, red tomato."},{id:"wood",name:"Wood",equippable:!1,stats:[],special:!1,consumable:!1,thumbnailImage:"./general/wood.png",description:"A sturdy log of freshly cut wood, a fundamental resource for building and crafting."}],R=[{id:"beloved_eye",name:"Beloved's Eye",equippable:!0,stats:[{name:"physicalDamage",value:100}],types:["Dark"],special:!0,consumable:!1,thumbnailImage:"./weapons/beloved_eye.png",description:"The watchful eye of an immortal sorceress, formed into a sword."},{id:"amaterasu",name:"Amaterasu",equippable:!0,stats:[{name:"physicalDamage",value:25},{name:"magicDamage",value:50}],types:["Light","Fire"],special:!0,consumable:!1,thumbnailImage:"./weapons/amaterasu.png",description:"A sword wreathed in dark flames, burning with ancient power."},{id:"burning_cutlass",name:"Burning Cutlass",equippable:!0,stats:[{name:"physicalDamage",value:75}],types:["Fire"],special:!0,consumable:!1,thumbnailImage:"./weapons/burning_cutlass.png",description:"A pirate's cutlass, enchanted with a fiery edge."},{id:"dawnbringer_evolution",name:"Dawnbringer Evolution",equippable:!0,stats:[{name:"magicDamage",value:75}],types:["Fire"],special:!0,consumable:!1,thumbnailImage:"./weapons/dawnbringer_evolution.png",description:"The legendary Dawnbringer, evolved to its ultimate form."},{id:"fatespinner",name:"Fatespinner",equippable:!0,stats:[{name:"magicDamage",value:100}],types:["Dark"],special:!0,consumable:!1,thumbnailImage:"./weapons/fatespinner.png",description:"A weapon that weaves destiny, altering the flow of battle."},{id:"hellward_lance",name:"Hellward Lance",equippable:!0,stats:[{name:"physicalDamage",value:50},{name:"magicDamage",value:25}],types:["Dark","Fire"],special:!0,consumable:!1,thumbnailImage:"./weapons/hellward_lance.png",description:"A formidable lance, capable of piercing the defenses of hellish foes."},{id:"kyoka_suigetsu",name:"Kyoka Suigetsu",equippable:!0,stats:[{name:"physicalDamage",value:37},{name:"magicDamage",value:37}],types:["Water","Dark"],special:!0,consumable:!1,thumbnailImage:"./weapons/kyoka_suigetsu.png",description:"A graceful weapon, shimmering with the light of the moon on water."},{id:"pleasure",name:"Pleasure",equippable:!0,stats:[{name:"magicDamage",value:75}],types:["Nature"],special:!0,consumable:!1,thumbnailImage:"./weapons/pleasure.png",description:"A deceptively beautiful weapon, bringing joy to its wielder and despair to foes."},{id:"raikiri",name:"Raikiri",equippable:!0,stats:[{name:"physicalDamage",value:37},{name:"magicDamage",value:37}],types:["Wind","Light"],special:!0,consumable:!1,thumbnailImage:"./weapons/raikiri.png",description:"A legendary sword, capable of cutting lightning itself."},{id:"raven_sword",name:"Raven Sword",equippable:!0,stats:[{name:"physicalDamage",value:25},{name:"magicDamage",value:50}],types:["Dark","Wind"],special:!0,consumable:!1,thumbnailImage:"./weapons/raven_sword.png",description:"A dark sword, adorned with raven feathers, hinting at shadowy powers."},{id:"royal_greatsword",name:"Royal Greatsword",equippable:!0,stats:[{name:"physicalDamage",value:75}],types:["Wind"],special:!0,consumable:!1,thumbnailImage:"./weapons/royal_greatsword.png",description:"A magnificent greatsword, fit for a king and devastating in battle."},{id:"sky_fan",name:"Sky Fan",equippable:!0,stats:[{name:"magicDamage",value:75}],types:["Wind"],special:!0,consumable:!1,thumbnailImage:"./weapons/sky_fan.png",description:"A delicate fan, capable of conjuring powerful gusts of wind."},{id:"unity",name:"Unity",equippable:!0,stats:[{name:"magicDamage",value:100}],types:["Light"],special:!0,consumable:!1,thumbnailImage:"./weapons/unity.png",description:"A weapon symbolizing harmony, granting strength through cooperation."},{id:"vine_whip",name:"Vine Whip",equippable:!0,stats:[{name:"physicalDamage",value:75}],types:["Nature"],special:!0,consumable:!1,thumbnailImage:"./weapons/vine_whip.png",description:"A flexible whip made of enchanted vines, entangling foes."},{id:"xochi",name:"Xochi",equippable:!0,stats:[{name:"physicalDamage",value:25},{name:"magicDamage",value:50}],types:["Nature","Light"],special:!0,consumable:!1,thumbnailImage:"./weapons/xochi.png",description:"A sword with a vibrant green hue, imbued with nature's power."},{id:"water_whip",name:"Water Whip",equippable:!0,stats:[{name:"physicalDamage",value:75}],types:["Water"],special:!0,consumable:!1,thumbnailImage:"./weapons/water_whip.png",description:"A whip made of solidified water, striking with fluid force."},{id:"medusa_scissors",name:"Medusa Scissors",equippable:!0,stats:[{name:"physicalDamage",value:75}],types:["Dark","Nature"],special:!0,consumable:!1,thumbnailImage:"./weapons/medusa_scissors.png",description:"...wait what??"},{id:"queens_trident",name:"Queen's Trident",equippable:!0,stats:[{name:"magicDamage",value:75}],types:["Water"],special:!0,consumable:!1,thumbnailImage:"./weapons/queens_trident.png",description:"A light and agile weapon, allowing its user to move like the wind."},{id:"frostfall",name:"Frostfall",equippable:!0,stats:[{name:"physicalDamage",value:25},{name:"magicDamage",value:50}],types:["Water","Light"],special:!0,consumable:!1,thumbnailImage:"./weapons/frostfall.png",description:"A light and agile weapon, allowing its user to move like the wind."},{id:"saints_greatsword",name:"Saint's Greatsword",equippable:!0,stats:[{name:"physicalDamage",value:100}],types:["Light"],special:!0,consumable:!1,thumbnailImage:"./weapons/saints_greatsword.png",description:"A blessed greatsword; standard issue for the Saints Ten."}],L=[{id:"bite_mark",name:"Bite Mark",equippable:!0,stats:[{name:"magicDamage",value:15},{name:"aura",value:10}],types:["Dark"],special:!0,consumable:!1,thumbnailImage:"./relics/bite_mark.png",description:"Leaves a faint mark on your neck, a reminder of a passionate night with Hilda."},{id:"wachiwis_shorts",name:"Wachiwi's Shorts",equippable:!0,stats:[{name:"agility",value:8},{name:"perception",value:12}],types:["Nature"],special:!0,consumable:!1,thumbnailImage:"./relics/wachiwis_shorts.png",description:"Wachiwi's second favourite shorts."},{id:"command_of_hell",name:"Command of Hell",equippable:!0,stats:[{name:"aura",value:20},{name:"magicDamage",value:15}],types:["Dark"],special:!0,consumable:!1,thumbnailImage:"./relics/command_of_hell.png",description:"Whoever carries this insignia, will command all the Legions of Hell. So Hela fused herself with it."},{id:"cygwins_love",name:"Cygwin's Love",equippable:!0,stats:[{name:"resilience",value:10},{name:"physicalDefence",value:10}],types:["Dark"],special:!0,consumable:!1,thumbnailImage:"./relics/cygwins_love.png",description:"Cygwin's heavy iron restraints, surprisingly comfortable, and designed to keep you in place until she is done 'examining' you."},{id:"freedom_cry",name:"Freedom Cry",equippable:!0,stats:[{name:"aura",value:12},{name:"physicalDamage",value:8}],types:["Light"],special:!0,consumable:!1,thumbnailImage:"./relics/freedom_cry.png",description:"A resonant echo of a forgotten battle cry, capable of shattering magical bonds and inspiring allies with unyielding courage."},{id:"full_counter",name:"Full Counter",equippable:!0,stats:[{name:"physicalDamage",value:15},{name:"physicalDefence",value:10}],types:["Light"],special:!0,consumable:!1,thumbnailImage:"./relics/full_counter.png",description:"A shimmering amulet that absorbs incoming magical and physical attacks, then unleashes their stored energy back upon the aggressor."},{id:"helas_whip",name:"Hela's Whip",equippable:!0,stats:[{name:"aura",value:18},{name:"magicDamage",value:12}],types:["Dark"],special:!0,consumable:!1,thumbnailImage:"./relics/helas_whip.png",description:"Hela's formidable whip, crafted from darkness. Strikes anywhere there's a shadow, it leaves a lingering sense of delicious submission."},{id:"hymn",name:"Hymn",equippable:!0,stats:[{name:"magicDefence",value:6},{name:"resilience",value:6}],types:["Light"],special:!0,consumable:!1,thumbnailImage:"./relics/hymn.png",description:"A celestial melody, imbued with divine grace, that heals wounds and purifies the spirit, warding off malevolent influences."},{id:"lament",name:"Lament",equippable:!0,stats:[{name:"magicDamage",value:5},{name:"perception",value:5}],types:["Dark"],special:!0,consumable:!1,thumbnailImage:"./relics/lament.png",description:"A sorrowful wail trapped within a cursed locket, it can evoke profound despair in enemies, leaving them vulnerable to attack."},{id:"magma_fossil",name:"Magma Fossil",equippable:!0,stats:[{name:"physicalDamage",value:10},{name:"resilience",value:10}],types:["Fire"],special:!0,consumable:!1,thumbnailImage:"./relics/magma_fossil.png",description:"A petrified fragment of primordial magma, it pulses with latent heat, granting resistance to fire and a fiery resolve."},{id:"nualas_hood",name:"Nuala's Hood",equippable:!0,stats:[{name:"magicDamage",value:9},{name:"agility",value:11}],types:["Dark"],special:!0,consumable:!1,thumbnailImage:"./relics/nualas_hood.png",description:"Nuala's silken hood, it conceals your identity when you have nothing else on. The dark elven way for 'open' fun."},{id:"oceans_deep",name:"Ocean's Deep",equippable:!0,stats:[{name:"magicDamage",value:10},{name:"aura",value:10}],types:["Water"],special:!0,consumable:!1,thumbnailImage:"./relics/oceans_deep.png",description:"A relic from the abyssal depths, it hums with the eternal, submissive longing of Ariel."},{id:"red_sutra",name:"Red Sutra",equippable:!0,stats:[{name:"physicalDamage",value:15},{name:"aura",value:10}],types:["Fire"],special:!0,consumable:!1,thumbnailImage:"./relics/red_sutra.png",description:"A forbidden thread that ignites carnal urges."},{id:"nualas_scent",name:"Nuala's Scent",equippable:!0,stats:[{name:"aura",value:20},{name:"resilience",value:15}],types:["Dark"],special:!0,consumable:!1,thumbnailImage:"./relics/nualas_scent.png",description:"A smooth amethyst crystal, an elven tool for self-pleasure. Nuala enchanted it so it always carries her taste, and scent."},{id:"requiem",name:"Requiem",equippable:!0,stats:[{name:"magicDefence",value:7},{name:"resilience",value:7}],types:["Light"],special:!0,consumable:!1,thumbnailImage:"./relics/requiem.png",description:"A solemn melody that guides lost souls to their final rest, capable of pacifying restless spirits and calming chaotic energies."},{id:"seabed_fossil",name:"Seabed Fossil",equippable:!0,stats:[{name:"magicDefence",value:10},{name:"perception",value:10}],types:["Water"],special:!0,consumable:!1,thumbnailImage:"./relics/seabed_fossil.png",description:"A fossilized fragment from the deepest trenches of the ocean, it grants the wearer the resilience of the deep sea and a connection to ancient aquatic magic."}],he=(l,p,T=1)=>{const r=l.find(o=>o.item.id===p.id);r?r.quantity+=T:l.push({item:p,quantity:T})},we=(l,p,T=1)=>{const r=l.findIndex(o=>o.item.id===p.id);r!==-1&&(l[r].quantity-=T,l[r].quantity<=0&&l.splice(r,1))};function be(){const{subscribe:l,set:p,update:T}=ue({npcsInitialized:!1,globalNpcs:{}}),r=async()=>{if($({subscribe:l}).npcsInitialized)return;const k=["ariadne","ariel","clawpatra","cygwin","hela","neela","nyx","wachiwi"].map(D=>fe(D)),h=await Promise.all(k),u={};h.forEach(D=>{D&&(u[D.id]={...JSON.parse(JSON.stringify(D)),activeRanks:{sword:null,heart:null},lastRankUpType:"heart",combatHistory:null})}),T(D=>({...D,globalNpcs:u,npcsInitialized:!0}))},o=(f,k,h,u)=>{const D=b=>{switch(b.type){case"DEFEAT_SELF":return(k.killCounts[h.id]||0)>0;case"LOSE_TO_SELF":return h.combatHistory&&h.combatHistory.outcome==="player_loss";case"GIVE_ITEM":return k.backpack.some(d=>d.item.id===b.itemId&&d.quantity>=b.quantity);case"KILL_COUNT":return(k.killCounts[b.enemyId]||0)>=b.quantity;case"STAT_CHECK":return k[b.stat]>=b.value;case"HAVE_ITEM":return k.backpack.some(d=>d.item.id===b.itemId);case"HAVE_TAG":return k.tags.includes(b.tagId);case"NPC_RANK_CHECK":{const d=u[b.npcId];return d?d[b.rankType+"Rank"]>=b.value:!1}default:return!1}};return f.operator==="AND"?f.conditions.every(D):f.operator==="OR"?f.conditions.some(D):D(f)};return{subscribe:l,initializeGlobalNpcs:r,handleNpcRankUpAction:(f,k,h)=>{let u=[],D=b=>b;return T(b=>{const d=b.globalNpcs[k.id];if(!d)return b;let v;if(f==="X"&&(v="heart"),f==="Z"&&(v="sword"),v){const W=d[v+"Rank"]+1,C=d.ranks[v][W],ae=d.activeRanks[v];C?ae?ae===W&&(o(C.requirement,h,d,b.globalNpcs)?(d[v+"Rank"]=W,d.lastRankUpType=v,d.activeRanks[v]=null,u.push(`[${d.name}]:
${C.success[0]}`),u.push(`[World]: Your ${v} rank with ${d.name} increased to ${W}.`),D=ne=>{const U={...ne},K=M=>{if(M.type==="GIVE_ITEM"){const z=X.find(F=>F.id===M.itemId);z&&we(U.backpack,z,M.quantity)}};return C.requirement.operator?C.requirement.conditions.forEach(K):K(C.requirement),C.rewards&&C.rewards.forEach(M=>{if(M.type==="item"){const z=X.find(F=>F.id===M.itemId)||R.find(F=>F.id===M.itemId)||L.find(F=>F.id===M.itemId);z&&(he(U.backpack,z,M.quantity||1),u.push(`[World]: You received ${M.quantity||1}x ${z.name}!`))}else M.type==="tag"&&(U.tags.includes(M.tagId)||(U.tags.push(M.tagId),u.push(`[World]: You've earned the tag: ${M.tagId}!`)))}),U}):u.push(`[${d.name}]:
${C.failure[0]}`)):(d.activeRanks[v]=W,u.push(`[${d.name}]:
${C.quest[0]}`)):u.push(`[${d.name}]:
... (Max rank reached for ${v})`)}return{...b,globalNpcs:{...b.globalNpcs,[d.id]:d}}}),{messagesToAdd:u,playerUpdateFn:D}},getSaveData:()=>$({subscribe:l}).globalNpcs,loadSaveData:f=>{T(k=>{const h={...k.globalNpcs};return f&&Object.keys(f).forEach(u=>{h[u]&&(h[u]={...h[u],...f[u]})}),{...k,globalNpcs:h}})},setCombatHistory:(f,k)=>{T(h=>(h.globalNpcs[f]&&(h.globalNpcs[f].combatHistory={outcome:k}),h))}}}const E=be(),Ie="oulier_island",xe="Oulier Island",Te=20,De=20,ve={x:2,y:2},ke=JSON.parse('[{"x":0,"y":0,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":1,"y":0,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":2,"y":0,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":3,"y":0,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":4,"y":0,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":5,"y":0,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":6,"y":0,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":7,"y":0,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":8,"y":0,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":9,"y":0,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":10,"y":0,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":11,"y":0,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":12,"y":0,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":13,"y":0,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":14,"y":0,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":15,"y":0,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":16,"y":0,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":17,"y":0,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":18,"y":0,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":19,"y":0,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":0,"y":1,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":1,"y":1,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":2,"y":1,"tileType":"water","tileImage":"./images/tiles/waterPlant.png","description":"Deep blue sea."},{"x":3,"y":1,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":4,"y":1,"tileType":"grass","tileImage":"./images/tiles/grass3.png","description":"Grassy plains."},{"x":5,"y":1,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":6,"y":1,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":7,"y":1,"tileType":"water","tileImage":"./images/tiles/waterRock.png","description":"Deep blue sea."},{"x":8,"y":1,"tileType":"water","tileImage":"./images/tiles/waterRock.png","description":"Deep blue sea."},{"x":9,"y":1,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":10,"y":1,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":11,"y":1,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":12,"y":1,"tileType":"grass","tileImage":"./images/tiles/grass3.png","description":"Grassy plains."},{"x":13,"y":1,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":14,"y":1,"tileType":"water","tileImage":"./images/tiles/waterPlant.png","description":"Deep blue sea."},{"x":15,"y":1,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":16,"y":1,"tileType":"grass","tileImage":"./images/tiles/grass3.png","description":"Grassy plains."},{"x":17,"y":1,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":18,"y":1,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":19,"y":1,"tileType":"water","tileImage":"./images/tiles/waterPlant.png","description":"Deep blue sea."},{"x":0,"y":2,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":1,"y":2,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":2,"y":2,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":3,"y":2,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":4,"y":2,"tileType":"grass","tileImage":"./images/tiles/grass9.png","description":"Grassy plains."},{"x":5,"y":2,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":6,"y":2,"tileType":"water","tileImage":"./images/tiles/waterRock.png","description":"Deep blue sea."},{"x":7,"y":2,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":8,"y":2,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":9,"y":2,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":10,"y":2,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":11,"y":2,"tileType":"grass","tileImage":"./images/tiles/grass7.png","description":"Grassy plains."},{"x":12,"y":2,"tileType":"grass","tileImage":"./images/tiles/grass6.png","description":"Grassy plains."},{"x":13,"y":2,"tileType":"water","tileImage":"./images/tiles/waterPlant.png","description":"Deep blue sea."},{"x":14,"y":2,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":15,"y":2,"tileType":"grass","tileImage":"./images/tiles/grass7.png","description":"Grassy plains."},{"x":16,"y":2,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":17,"y":2,"tileType":"grass","tileImage":"./images/tiles/grass3.png","description":"Grassy plains."},{"x":18,"y":2,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":19,"y":2,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":0,"y":3,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":1,"y":3,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":2,"y":3,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":3,"y":3,"tileType":"grass","tileImage":"./images/tiles/grass9.png","description":"Grassy plains."},{"x":4,"y":3,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":5,"y":3,"tileType":"water","tileImage":"./images/tiles/waterRock.png","description":"Deep blue sea."},{"x":6,"y":3,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":7,"y":3,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":8,"y":3,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":9,"y":3,"tileType":"grass","tileImage":"./images/tiles/grass3.png","description":"Grassy plains."},{"x":10,"y":3,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":11,"y":3,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":12,"y":3,"tileType":"grass","tileImage":"./images/tiles/grass7.png","description":"Grassy plains."},{"x":13,"y":3,"tileType":"grass","tileImage":"./images/tiles/grass3.png","description":"Grassy plains."},{"x":14,"y":3,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":15,"y":3,"tileType":"water","tileImage":"./images/tiles/waterPlant.png","description":"Deep blue sea."},{"x":16,"y":3,"tileType":"grass","tileImage":"./images/tiles/grass4.png","description":"Grassy plains."},{"x":17,"y":3,"tileType":"grass","tileImage":"./images/tiles/grass6.png","description":"Grassy plains."},{"x":18,"y":3,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":19,"y":3,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":0,"y":4,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":1,"y":4,"tileType":"grass","tileImage":"./images/tiles/grass7.png","description":"Grassy plains."},{"x":2,"y":4,"tileType":"grass","tileImage":"./images/tiles/grass9.png","description":"Grassy plains."},{"x":3,"y":4,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":4,"y":4,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":5,"y":4,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":6,"y":4,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":7,"y":4,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":8,"y":4,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":9,"y":4,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":10,"y":4,"tileType":"grass","tileImage":"./images/tiles/grass3.png","description":"Grassy plains."},{"x":11,"y":4,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":12,"y":4,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":13,"y":4,"tileType":"grass","tileImage":"./images/tiles/grass7.png","description":"Grassy plains."},{"x":14,"y":4,"tileType":"grass","tileImage":"./images/tiles/grass2.png","description":"Grassy plains."},{"x":15,"y":4,"tileType":"grass","tileImage":"./images/tiles/grass2.png","description":"Grassy plains."},{"x":16,"y":4,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":17,"y":4,"tileType":"grass","tileImage":"./images/tiles/grass6.png","description":"Grassy plains."},{"x":18,"y":4,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":19,"y":4,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":0,"y":5,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":1,"y":5,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":2,"y":5,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":3,"y":5,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":4,"y":5,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":5,"y":5,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":6,"y":5,"tileType":"grass","tileImage":"./images/tiles/grass2.png","description":"Grassy plains."},{"x":7,"y":5,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":8,"y":5,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":9,"y":5,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":10,"y":5,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":11,"y":5,"tileType":"grass","tileImage":"./images/tiles/grass3.png","description":"Grassy plains."},{"x":12,"y":5,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":13,"y":5,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":14,"y":5,"tileType":"grass","tileImage":"./images/tiles/grass7.png","description":"Grassy plains."},{"x":15,"y":5,"tileType":"grass","tileImage":"./images/tiles/grass8.png","description":"Grassy plains."},{"x":16,"y":5,"tileType":"grass","tileImage":"./images/tiles/grass8.png","description":"Grassy plains."},{"x":17,"y":5,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":18,"y":5,"tileType":"grass","tileImage":"./images/tiles/grass3.png","description":"Grassy plains."},{"x":19,"y":5,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":0,"y":6,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":1,"y":6,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":2,"y":6,"tileType":"water","tileImage":"./images/tiles/waterPlant.png","description":"Deep blue sea."},{"x":3,"y":6,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":4,"y":6,"tileType":"grass","tileImage":"./images/tiles/grass2.png","description":"Grassy plains."},{"x":5,"y":6,"tileType":"grass","tileImage":"./images/tiles/grass8.png","description":"Grassy plains."},{"x":6,"y":6,"tileType":"grass","tileImage":"./images/tiles/grass8.png","description":"Grassy plains."},{"x":7,"y":6,"tileType":"grass","tileImage":"./images/tiles/grass8.png","description":"Grassy plains."},{"x":8,"y":6,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":9,"y":6,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":10,"y":6,"tileType":"grass","tileImage":"./images/tiles/grass8.png","description":"Grassy plains."},{"x":11,"y":6,"tileType":"grass","tileImage":"./images/tiles/grass9.png","description":"Grassy plains."},{"x":12,"y":6,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":13,"y":6,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":14,"y":6,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":15,"y":6,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":16,"y":6,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":17,"y":6,"tileType":"grass","tileImage":"./images/tiles/grass7.png","description":"Grassy plains."},{"x":18,"y":6,"tileType":"grass","tileImage":"./images/tiles/grass9.png","description":"Grassy plains."},{"x":19,"y":6,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":0,"y":7,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":1,"y":7,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":2,"y":7,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":3,"y":7,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":4,"y":7,"tileType":"grass","tileImage":"./images/tiles/grass9.png","description":"Grassy plains."},{"x":5,"y":7,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":6,"y":7,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":7,"y":7,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":8,"y":7,"tileType":"grass","tileImage":"./images/tiles/grass4.png","description":"Grassy plains."},{"x":9,"y":7,"tileType":"grass","tileImage":"./images/tiles/grass6.png","description":"Grassy plains."},{"x":10,"y":7,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":11,"y":7,"tileType":"water","tileImage":"./images/tiles/waterPlant.png","description":"Deep blue sea."},{"x":12,"y":7,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":13,"y":7,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":14,"y":7,"tileType":"grass","tileImage":"./images/tiles/grass3.png","description":"Grassy plains."},{"x":15,"y":7,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":16,"y":7,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":17,"y":7,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":18,"y":7,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":19,"y":7,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":0,"y":8,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":1,"y":8,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":2,"y":8,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":3,"y":8,"tileType":"grass","tileImage":"./images/tiles/grass6.png","description":"Grassy plains."},{"x":4,"y":8,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":5,"y":8,"tileType":"water","tileImage":"./images/tiles/waterPlant.png","description":"Deep blue sea."},{"x":6,"y":8,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":7,"y":8,"tileType":"grass","tileImage":"./images/tiles/grass2.png","description":"Grassy plains."},{"x":8,"y":8,"tileType":"grass","tileImage":"./images/tiles/grass8.png","description":"Grassy plains."},{"x":9,"y":8,"tileType":"grass","tileImage":"./images/tiles/grass9.png","description":"Grassy plains."},{"x":10,"y":8,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":11,"y":8,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":12,"y":8,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":13,"y":8,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":14,"y":8,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":15,"y":8,"tileType":"grass","tileImage":"./images/tiles/grass2.png","description":"Grassy plains."},{"x":16,"y":8,"tileType":"grass","tileImage":"./images/tiles/grass3.png","description":"Grassy plains."},{"x":17,"y":8,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":18,"y":8,"tileType":"water","tileImage":"./images/tiles/waterRock.png","description":"Deep blue sea."},{"x":19,"y":8,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":0,"y":9,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":1,"y":9,"tileType":"grass","tileImage":"./images/tiles/grass4.png","description":"Grassy plains."},{"x":2,"y":9,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":3,"y":9,"tileType":"grass","tileImage":"./images/tiles/grass6.png","description":"Grassy plains."},{"x":4,"y":9,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":5,"y":9,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":6,"y":9,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":7,"y":9,"tileType":"grass","tileImage":"./images/tiles/grass6.png","description":"Grassy plains."},{"x":8,"y":9,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":9,"y":9,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":10,"y":9,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":11,"y":9,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":12,"y":9,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":13,"y":9,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":14,"y":9,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":15,"y":9,"tileType":"grass","tileImage":"./images/tiles/grass8.png","description":"Grassy plains."},{"x":16,"y":9,"tileType":"grass","tileImage":"./images/tiles/grass9.png","description":"Grassy plains."},{"x":17,"y":9,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":18,"y":9,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":19,"y":9,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":0,"y":10,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":1,"y":10,"tileType":"grass","tileImage":"./images/tiles/grass4.png","description":"Grassy plains."},{"x":2,"y":10,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":3,"y":10,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":4,"y":10,"tileType":"grass","tileImage":"./images/tiles/grass2.png","description":"Grassy plains."},{"x":5,"y":10,"tileType":"grass","tileImage":"./images/tiles/grass8.png","description":"Grassy plains."},{"x":6,"y":10,"tileType":"grass","tileImage":"./images/tiles/grass8.png","description":"Grassy plains."},{"x":7,"y":10,"tileType":"grass","tileImage":"./images/tiles/grass8.png","description":"Grassy plains."},{"x":8,"y":10,"tileType":"grass","tileImage":"./images/tiles/grass3.png","description":"Grassy plains."},{"x":9,"y":10,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":10,"y":10,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":11,"y":10,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":12,"y":10,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":13,"y":10,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":14,"y":10,"tileType":"grass","tileImage":"./images/tiles/grass9.png","description":"Grassy plains."},{"x":15,"y":10,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":16,"y":10,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":17,"y":10,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":18,"y":10,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":19,"y":10,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":0,"y":11,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":1,"y":11,"tileType":"grass","tileImage":"./images/tiles/grass4.png","description":"Grassy plains."},{"x":2,"y":11,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":3,"y":11,"tileType":"grass","tileImage":"./images/tiles/grass8.png","description":"Grassy plains."},{"x":4,"y":11,"tileType":"grass","tileImage":"./images/tiles/grass9.png","description":"Grassy plains."},{"x":5,"y":11,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":6,"y":11,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":7,"y":11,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":8,"y":11,"tileType":"grass","tileImage":"./images/tiles/grass7.png","description":"Grassy plains."},{"x":9,"y":11,"tileType":"grass","tileImage":"./images/tiles/grass2.png","description":"Grassy plains."},{"x":10,"y":11,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":11,"y":11,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":12,"y":11,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":13,"y":11,"tileType":"grass","tileImage":"./images/tiles/grass9.png","description":"Grassy plains."},{"x":14,"y":11,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":15,"y":11,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":16,"y":11,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":17,"y":11,"tileType":"water","tileImage":"./images/tiles/waterPlant.png","description":"Deep blue sea."},{"x":18,"y":11,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":19,"y":11,"tileType":"grass","tileImage":"./images/tiles/grass2.png","description":"Grassy plains."},{"x":0,"y":12,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":1,"y":12,"tileType":"grass","tileImage":"./images/tiles/grass4.png","description":"Grassy plains."},{"x":2,"y":12,"tileType":"grass","tileImage":"./images/tiles/grass6.png","description":"Grassy plains."},{"x":3,"y":12,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":4,"y":12,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":5,"y":12,"tileType":"water","tileImage":"./images/tiles/waterPlant.png","description":"Deep blue sea."},{"x":6,"y":12,"tileType":"water","tileImage":"./images/tiles/waterRock.png","description":"Deep blue sea."},{"x":7,"y":12,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":8,"y":12,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":9,"y":12,"tileType":"grass","tileImage":"./images/tiles/grass4.png","description":"Grassy plains."},{"x":10,"y":12,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":11,"y":12,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":12,"y":12,"tileType":"grass","tileImage":"./images/tiles/grass6.png","description":"Grassy plains."},{"x":13,"y":12,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":14,"y":12,"tileType":"water","tileImage":"./images/tiles/waterRock.png","description":"Deep blue sea."},{"x":15,"y":12,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":16,"y":12,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":17,"y":12,"tileType":"grass","tileImage":"./images/tiles/grass2.png","description":"Grassy plains."},{"x":18,"y":12,"tileType":"grass","tileImage":"./images/tiles/grass8.png","description":"Grassy plains."},{"x":19,"y":12,"tileType":"grass","tileImage":"./images/tiles/grass8.png","description":"Grassy plains."},{"x":0,"y":13,"tileType":"water","tileImage":"./images/tiles/waterPlant.png","description":"Deep blue sea."},{"x":1,"y":13,"tileType":"grass","tileImage":"./images/tiles/grass7.png","description":"Grassy plains."},{"x":2,"y":13,"tileType":"grass","tileImage":"./images/tiles/grass9.png","description":"Grassy plains."},{"x":3,"y":13,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":4,"y":13,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":5,"y":13,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":6,"y":13,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":7,"y":13,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":8,"y":13,"tileType":"grass","tileImage":"./images/tiles/grass2.png","description":"Grassy plains."},{"x":9,"y":13,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":10,"y":13,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":11,"y":13,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":12,"y":13,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":13,"y":13,"tileType":"grass","tileImage":"./images/tiles/grass3.png","description":"Grassy plains."},{"x":14,"y":13,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":15,"y":13,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":16,"y":13,"tileType":"grass","tileImage":"./images/tiles/grass4.png","description":"Grassy plains."},{"x":17,"y":13,"tileType":"grass","tileImage":"./images/tiles/grass6.png","description":"Grassy plains."},{"x":18,"y":13,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":19,"y":13,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":0,"y":14,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":1,"y":14,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":2,"y":14,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":3,"y":14,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":4,"y":14,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":5,"y":14,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":6,"y":14,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":7,"y":14,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":8,"y":14,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":9,"y":14,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":10,"y":14,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":11,"y":14,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":12,"y":14,"tileType":"grass","tileImage":"./images/tiles/grass8.png","description":"Grassy plains."},{"x":13,"y":14,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":14,"y":14,"tileType":"grass","tileImage":"./images/tiles/grass3.png","description":"Grassy plains."},{"x":15,"y":14,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":16,"y":14,"tileType":"grass","tileImage":"./images/tiles/grass7.png","description":"Grassy plains."},{"x":17,"y":14,"tileType":"grass","tileImage":"./images/tiles/grass9.png","description":"Grassy plains."},{"x":18,"y":14,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":19,"y":14,"tileType":"water","tileImage":"./images/tiles/waterRock.png","description":"Deep blue sea."},{"x":0,"y":15,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":1,"y":15,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":2,"y":15,"tileType":"grass","tileImage":"./images/tiles/grass3.png","description":"Grassy plains."},{"x":3,"y":15,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":4,"y":15,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":5,"y":15,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":6,"y":15,"tileType":"grass","tileImage":"./images/tiles/grass4.png","description":"Grassy plains."},{"x":7,"y":15,"tileType":"grass","tileImage":"./images/tiles/grass8.png","description":"Grassy plains."},{"x":8,"y":15,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":9,"y":15,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":10,"y":15,"tileType":"grass","tileImage":"./images/tiles/grass8.png","description":"Grassy plains."},{"x":11,"y":15,"tileType":"grass","tileImage":"./images/tiles/grass9.png","description":"Grassy plains."},{"x":12,"y":15,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":13,"y":15,"tileType":"grass","tileImage":"./images/tiles/grass7.png","description":"Grassy plains."},{"x":14,"y":15,"tileType":"grass","tileImage":"./images/tiles/grass6.png","description":"Grassy plains."},{"x":15,"y":15,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":16,"y":15,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":17,"y":15,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":18,"y":15,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":19,"y":15,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":0,"y":16,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":1,"y":16,"tileType":"grass","tileImage":"./images/tiles/grass7.png","description":"Grassy plains."},{"x":2,"y":16,"tileType":"grass","tileImage":"./images/tiles/grass8.png","description":"Grassy plains."},{"x":3,"y":16,"tileType":"grass","tileImage":"./images/tiles/grass2.png","description":"Grassy plains."},{"x":4,"y":16,"tileType":"grass","tileImage":"./images/tiles/grass2.png","description":"Grassy plains."},{"x":5,"y":16,"tileType":"grass","tileImage":"./images/tiles/grass2.png","description":"Grassy plains."},{"x":6,"y":16,"tileType":"grass","tileImage":"./images/tiles/grass9.png","description":"Grassy plains."},{"x":7,"y":16,"tileType":"water","tileImage":"./images/tiles/waterPlant.png","description":"Deep blue sea."},{"x":8,"y":16,"tileType":"grass","tileImage":"./images/tiles/grass7.png","description":"Grassy plains."},{"x":9,"y":16,"tileType":"grass","tileImage":"./images/tiles/grass9.png","description":"Grassy plains."},{"x":10,"y":16,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":11,"y":16,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":12,"y":16,"tileType":"water","tileImage":"./images/tiles/waterPlant.png","description":"Deep blue sea."},{"x":13,"y":16,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":14,"y":16,"tileType":"grass","tileImage":"./images/tiles/grass4.png","description":"Grassy plains."},{"x":15,"y":16,"tileType":"grass","tileImage":"./images/tiles/grass3.png","description":"Grassy plains."},{"x":16,"y":16,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":17,"y":16,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":18,"y":16,"tileType":"grass","tileImage":"./images/tiles/grass3.png","description":"Grassy plains."},{"x":19,"y":16,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":0,"y":17,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":1,"y":17,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":2,"y":17,"tileType":"water","tileImage":"./images/tiles/waterPlant.png","description":"Deep blue sea."},{"x":3,"y":17,"tileType":"grass","tileImage":"./images/tiles/grass7.png","description":"Grassy plains."},{"x":4,"y":17,"tileType":"grass","tileImage":"./images/tiles/grass8.png","description":"Grassy plains."},{"x":5,"y":17,"tileType":"grass","tileImage":"./images/tiles/grass9.png","description":"Grassy plains."},{"x":6,"y":17,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":7,"y":17,"tileType":"water","tileImage":"./images/tiles/waterPlant.png","description":"Deep blue sea."},{"x":8,"y":17,"tileType":"water","tileImage":"./images/tiles/waterPlant.png","description":"Deep blue sea."},{"x":9,"y":17,"tileType":"water","tileImage":"./images/tiles/waterRock.png","description":"Deep blue sea."},{"x":10,"y":17,"tileType":"water","tileImage":"./images/tiles/waterPlant.png","description":"Deep blue sea."},{"x":11,"y":17,"tileType":"grass","tileImage":"./images/tiles/grass1.png","description":"Grassy plains."},{"x":12,"y":17,"tileType":"grass","tileImage":"./images/tiles/grass3.png","description":"Grassy plains."},{"x":13,"y":17,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":14,"y":17,"tileType":"grass","tileImage":"./images/tiles/grass7.png","description":"Grassy plains."},{"x":15,"y":17,"tileType":"grass","tileImage":"./images/tiles/grass9.png","description":"Grassy plains."},{"x":16,"y":17,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":17,"y":17,"tileType":"grass","tileImage":"./images/tiles/grass4.png","description":"Grassy plains."},{"x":18,"y":17,"tileType":"grass","tileImage":"./images/tiles/grass6.png","description":"Grassy plains."},{"x":19,"y":17,"tileType":"water","tileImage":"./images/tiles/waterBoat2.png","description":"Deep blue sea."},{"x":0,"y":18,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":1,"y":18,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":2,"y":18,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":3,"y":18,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":4,"y":18,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":5,"y":18,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":6,"y":18,"tileType":"water","tileImage":"./images/tiles/waterPlant.png","description":"Deep blue sea."},{"x":7,"y":18,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":8,"y":18,"tileType":"water","tileImage":"./images/tiles/waterRock.png","description":"Deep blue sea."},{"x":9,"y":18,"tileType":"water","tileImage":"./images/tiles/waterPlant.png","description":"Deep blue sea."},{"x":10,"y":18,"tileType":"water","tileImage":"./images/tiles/waterBoat1.png","description":"Deep blue sea."},{"x":11,"y":18,"tileType":"grass","tileImage":"./images/tiles/grass7.png","description":"Grassy plains."},{"x":12,"y":18,"tileType":"grass","tileImage":"./images/tiles/grass9.png","description":"Grassy plains."},{"x":13,"y":18,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":14,"y":18,"tileType":"water","tileImage":"./images/tiles/waterPlant.png","description":"Deep blue sea."},{"x":15,"y":18,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":16,"y":18,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":17,"y":18,"tileType":"grass","tileImage":"./images/tiles/grass4.png","description":"Grassy plains."},{"x":18,"y":18,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":19,"y":18,"tileType":"grass","tileImage":"./images/tiles/grass3.png","description":"Grassy plains."},{"x":0,"y":19,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":1,"y":19,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":2,"y":19,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":3,"y":19,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":4,"y":19,"tileType":"water","tileImage":"./images/tiles/waterPlant.png","description":"Deep blue sea."},{"x":5,"y":19,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":6,"y":19,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":7,"y":19,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":8,"y":19,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":9,"y":19,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":10,"y":19,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":11,"y":19,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":12,"y":19,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":13,"y":19,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":14,"y":19,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":15,"y":19,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":16,"y":19,"tileType":"water","tileImage":"./images/tiles/water0.png","description":"Deep blue sea."},{"x":17,"y":19,"tileType":"grass","tileImage":"./images/tiles/grass4.png","description":"Grassy plains."},{"x":18,"y":19,"tileType":"grass","tileImage":"./images/tiles/grass5.png","description":"Grassy plains."},{"x":19,"y":19,"tileType":"grass","tileImage":"./images/tiles/grass3.png","description":"Grassy plains."}]'),Ge=.3,_e=.3,Ae={grass:[{id:"woodmech_bear",chance:.5},{id:"greenhorn",chance:.35},{id:"white_wyvern",chance:.15}],water:[{id:"aquamech_shark",chance:.85},{id:"white_wyvern",chance:.15}]},qe={grass:[{itemId:"feather",minQuantity:3,maxQuantity:5,chance:.1},{itemId:"four_leaf_clover",minQuantity:1,maxQuantity:1,chance:.1},{itemId:"shrooms",minQuantity:1,maxQuantity:5,chance:.1},{itemId:"stone",minQuantity:2,maxQuantity:5,chance:.1},{itemId:"wood",minQuantity:2,maxQuantity:5,chance:.1}],water:[{itemId:"fish",minQuantity:1,maxQuantity:3,chance:.25},{itemId:"coral_reef",minQuantity:1,maxQuantity:3,chance:.25}],universal:[{itemId:"azurite",minQuantity:2,maxQuantity:5,chance:.25},{itemId:"island_herb",minQuantity:2,maxQuantity:5,chance:.25}]},Me=[],Ee=[{id:"hela",x:2,y:4},{id:"ariel",x:10,y:17},{id:"clawpatra",x:17,y:16},{id:"nyx",x:16,y:4},{id:"ariadne",x:8,y:8},{id:"neela",x:12,y:14},{id:"wachiwi",x:3,y:15}],Ce={id:Ie,name:xe,mapWidth:Te,mapHeight:De,playerStart:ve,tiles:ke,enemyEncounterChance:Ge,itemFindingChance:_e,randomEnemies:Ae,itemDrops:qe,fixedEvents:Me,npcs:Ee},Pe="umbra_valley",We="Umbra Valley",Ne=5,He=5,Re={x:0,y:0},Se=[{x:0,y:0,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."},{x:1,y:0,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."},{x:2,y:0,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."},{x:3,y:0,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."},{x:4,y:0,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."},{x:0,y:1,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."},{x:1,y:1,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."},{x:2,y:1,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."},{x:3,y:1,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."},{x:4,y:1,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."},{x:0,y:2,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."},{x:1,y:2,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."},{x:2,y:2,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."},{x:3,y:2,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."},{x:4,y:2,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."},{x:0,y:3,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."},{x:1,y:3,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."},{x:2,y:3,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."},{x:3,y:3,tileType:"teleport",tileImage:"/game_icons/hellgate.png",description:"A shimmering portal back to Oulier Island.",fixedEvent:{type:"teleport",targetMap:"oulier_island",targetX:1,targetY:1}},{x:4,y:3,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."},{x:0,y:4,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."},{x:1,y:4,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."},{x:2,y:4,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."},{x:3,y:4,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."},{x:4,y:4,tileType:"grass",tileImage:"./images/tiles/grass5.png",description:"A dark, eerie valley."}],$e=.7,Le=.3,Fe={grass:[{id:"aquamech_shark",chance:1}],water:[]},Oe={grass:[],water:[],universal:[{itemId:"azurite",minQuantity:1,maxQuantity:1,chance:1}]},Be=[{x:3,y:3,type:"teleport",targetMap:"oulier_island",targetX:1,targetY:1,description:"A shimmering portal back to Oulier Island."}],Qe=[{id:"hela",x:1,y:1}],Ye={id:Pe,name:We,mapWidth:Ne,mapHeight:He,playerStart:Re,tiles:Se,enemyEncounterChance:$e,itemFindingChance:Le,randomEnemies:Fe,itemDrops:Oe,fixedEvents:Be,npcs:Qe},de={oulier_island:Ce,umbra_valley:Ye};function ge(l){const p=de[l];return p?JSON.parse(JSON.stringify(p)):(console.error(`Map with ID ${l} not found.`),null)}function Ue(){return Object.keys(de)}const ze=[{id:"aquamech_shark",name:"Aquamech Shark",description:"A mechanical shark patrolling the waters.",image:"./images/enemies/aquamech_shark.png",thumbnailImage:"./images/enemies/aquamech_shark.png",hp:80,physicalDamage:15,physicalDefence:10,magicDefence:5,heal:0,types:["Water"],drops:[{itemId:"water_essence",quantity:1},{itemId:"argentum",quantity:100}]},{id:"greenhorn",name:"Greenhorn",description:"A novice adventurer, easily defeated.",image:"./images/enemies/greenhorn.png",thumbnailImage:"./images/enemies/greenhorn.png",hp:50,physicalDamage:8,physicalDefence:5,magicDefence:2,heal:0,types:["Nature"],drops:[{itemId:"raw_hide",quantity:1},{itemId:"argentum",quantity:100}]},{id:"white_wyvern",name:"White Wyvern",description:"A majestic but dangerous white wyvern.",image:"./images/enemies/white_wyvern.png",thumbnailImage:"./images/enemies/white_wyvern.png",hp:120,physicalDamage:20,physicalDefence:15,magicDefence:10,heal:0,types:["Wind"],drops:[{itemId:"dragon_fang",quantity:1},{itemId:"argentum",quantity:100}]},{id:"woodmech_bear",name:"Woodmech Bear",description:"A bear-like automaton made of wood and gears.",image:"./images/enemies/woodmech_bear.png",thumbnailImage:"./images/enemies/woodmech_bear.png",hp:100,physicalDamage:18,physicalDefence:12,magicDefence:8,heal:0,types:["Nature"],drops:[{itemId:"raw_hide",quantity:1},{itemId:"argentum",quantity:100}]}],Ve=100,Xe=100,Je=10,je=15,Ke=10,Ze=15,ea=5,aa=10,sa=100,ia=0,ta=0,la=0,na=.25,ra=1.5,pa={weapon1:null,weapon2:null,relics:[null,null,null,null]},ga={weapons:[],relics:[],general:[]},ma={},oa=[],ca=[],ya=[],V={hp:Ve,maxHp:Xe,physicalDamage:Je,physicalDefence:je,magicDamage:Ke,magicDefence:Ze,heal:ea,aura:aa,maxAura:sa,perception:ia,resilience:ta,agility:la,critChance:na,critDamage:ra,equipment:pa,backpack:ga,killCounts:ma,tags:oa,activeElements:ca,activeBuffs:ya},ua={Fire:{Fire:1,Water:.5,Wind:1,Nature:2,Light:.5,Dark:1},Water:{Fire:2,Water:1,Wind:1,Nature:.5,Light:1,Dark:.5},Wind:{Fire:1,Water:1,Wind:1,Nature:2,Light:.5,Dark:.5},Nature:{Fire:.5,Water:2,Wind:.5,Nature:1,Light:1,Dark:1},Light:{Fire:1,Water:1,Wind:1,Nature:1,Light:1,Dark:2},Dark:{Fire:1,Water:1,Wind:1,Nature:1,Light:2,Dark:1}};function da(l,p){if(!l||!p)return 1;const T=ua[l]?.[p];return T!==void 0?T:1}function fa(l,p){if(!l||l.length===0||!p||p.length===0)return 1;let T=0;const r=l.length;for(const o of l){const _=p.map(n=>da(o,n)),A=Math.max(..._);T+=A}return T/r}function ie(l,p,T="physical"){let r=0,o=!1;T==="physical"?(r=l.physicalDamage||0,r=Math.max(0,r-(p.physicalDefence||0))):T==="magic"&&(r=l.magicDamage||0,r=Math.max(0,r-(p.magicDefence||0)));const _=l.critChance||.25,A=l.critDamage||1.5;Math.random()<_&&(o=!0);const n=l.activeElements||l.elements||[],y=p.elements||[];let k=fa(n,y);o&&(k+=A);let h=Math.round(r*k);return{damage:Math.max(0,h),isCritical:o}}function oe(l){const p=(l.agility||0)/100;return Math.random()<p}function ha(l,p,T,r){let o=[],_=null,A=null,n={...p},y={...l};if(n.roundCount===void 0&&(n.roundCount=0),n.roundCount++,o.push({type:"roundStart",round:n.roundCount}),n.roundCount>50)return n.currentHp<=0?(_="[World]: Player wins after 50 rounds!",A="player_win"):(_=`[World]: Combat reached 50 rounds. ${n.name} wins!`,A="player_loss"),o.push({type:"finalMessage",message:_}),{updatedPlayer:y,updatedCombat:n,combatLog:o,finalMessage:_,outcome:A};if(o.push({type:"turnStart",character:"Player",hp:y.hp,maxHp:y.maxHp}),n.currentHp,n.currentHp=Math.min(n.hp,n.currentHp+(n.heal||0)),n.heal>0&&o.push({type:"heal",character:n.name,amount:n.heal,currentHp:n.currentHp,maxHp:n.hp}),oe(n))o.push({type:"dodge",attacker:"Player",defender:n.name});else{const h=ie(y,n,"physical"),u=ie(y,n,"magic");let D=h.damage+u.damage;h.damage>0?o.push({type:"attack",attacker:"Player",defender:n.name,attackType:"physical",damage:h.damage,isCritical:h.isCritical}):o.push({type:"noDamage",attacker:"Player",defender:n.name,attackType:"physical"}),u.damage>0?o.push({type:"attack",attacker:"Player",defender:n.name,attackType:"magic",damage:u.damage,isCritical:u.isCritical}):o.push({type:"noDamage",attacker:"Player",defender:n.name,attackType:"magic"}),n.currentHp-=D,D>0&&o.push({type:"totalDamage",defender:n.name,damage:D,currentHp:n.currentHp,maxHp:n.hp})}if(n.currentHp<=0){_=`[World]: ${n.name} defeated!`,A="player_win",o.push({type:"finalMessage",message:_,drops:[]});const h=n.drops;if(h&&h.length>0){let u=[];h.forEach(D=>{const d=[...X,...R,...L].find(v=>v.id===D.itemId);d&&(r(y.backpack,d,D.quantity),u.push({name:d.name,quantity:D.quantity}))}),o[o.length-1].drops=u}return y.killCounts[n.id]=(y.killCounts[n.id]||0)+1,{updatedPlayer:y,updatedCombat:n,combatLog:o,finalMessage:_,outcome:A}}if(o.push({type:"turnStart",character:n.name,hp:n.currentHp,maxHp:n.hp}),y.hp,y.hp=Math.min(y.maxHp,y.hp+(y.heal||0)),y.heal>0&&o.push({type:"heal",character:"Player",amount:y.heal,currentHp:y.hp,maxHp:y.maxHp}),oe(y))o.push({type:"dodge",attacker:n.name,defender:"Player"});else{const h={...n,magicDamage:n.magicDamage||0,heal:n.heal||0,elements:n.elements||[]},u=ie(h,y,"physical"),D=ie(h,y,"magic");let b=u.damage+D.damage;if(u.damage>0&&o.push({type:"attack",attacker:n.name,defender:"Player",attackType:"physical",damage:u.damage,isCritical:u.isCritical}),D.damage>0&&o.push({type:"attack",attacker:n.name,defender:"Player",attackType:"magic",damage:D.damage,isCritical:D.isCritical}),y.aura>0&&b>0){const d=y.aura;let v=b,J=0;d>=v?(J=v,y.aura-=v,v=0):(J=d,v-=d,y.aura=0),o.push({type:"auraAbsorb",amount:J,current:y.aura}),b=v}y.hp-=b,y.hp=Math.max(0,y.hp),b>0&&o.push({type:"totalDamage",defender:"Player",damage:b,currentHp:y.hp,maxHp:y.maxHp})}return y.hp<=0?(_="[World]: Player defeated! Game Over.",A="player_loss",o.push({type:"finalMessage",message:_}),{updatedPlayer:y,updatedCombat:n,combatLog:o,finalMessage:_,outcome:A}):{updatedPlayer:y,updatedCombat:n,combatLog:o,finalMessage:_,outcome:A}}const te=10,le=10;function ce(l){let p=[];const T=l.equipment.weapon1,r=l.equipment.weapon2;return T&&T.types&&T.types.length>0&&(T.types.length===2?p=[...T.types]:T.types.length===1&&p.push(T.types[0])),r&&r.types&&r.types.length>0&&(r.types.length===2?p.length===1?p=[...r.types]:p.length===0&&(p=[...r.types]):r.types.length===1&&(p.length===1&&p[0]!==r.types[0]||p.length===0)&&p.push(r.types[0])),[...new Set(p)].slice(0,2)}const ye={x:0,y:0,hp:100,maxHp:100,physicalDamage:10,physicalDefence:10,magicDamage:10,magicDefence:10,heal:5,aura:10,maxAura:100,perception:0,resilience:0,agility:0,critChance:.25,critDamage:1.5,equipment:{weapon1:null,weapon2:null,relics:[null,null,null,null]},backpack:[],viewX:0,viewY:0,killCounts:{},tags:[],activeElements:[],activeBuffs:[]},wa=l=>{let p={...l,hp:Number(l.hp||0),maxHp:Number(l.maxHp||0),physicalDamage:Number(l.physicalDamage||0),physicalDefence:Number(l.physicalDefence||0),magicDamage:Number(l.magicDamage||0),magicDefence:Number(l.magicDefence||0),heal:Number(l.heal||0),aura:Number(l.aura||0),maxAura:Number(l.maxAura||0),perception:Number(l.perception||0),resilience:Number(l.resilience||0),agility:Number(l.agility||0),critChance:Number(l.critChance||0),critDamage:Number(l.critDamage||0)};return[l.equipment.weapon1,l.equipment.weapon2,...l.equipment.relics].filter(Boolean).forEach(r=>{r.stats&&Array.isArray(r.stats)&&r.stats.forEach(o=>{o.name&&o.value!==void 0&&(p[o.name]=(p[o.name]||0)+Number(o.value||0))})}),(l.activeBuffs||[]).forEach(r=>{r.type==="flat"?p[r.stat]=(p[r.stat]||0)+Number(r.value||0):r.type==="percentage"&&(p[r.stat]=(p[r.stat]||0)*(1+Number(r.value||0)/100))}),p.hp=Math.min(p.hp,p.maxHp),p.aura=Math.min(p.aura,p.maxAura),p};function ba(){const l="oulier_island",{subscribe:p,set:T,update:r}=ue({isInitialized:!1,currentMapId:l,availableMaps:Ue(),map:[],mapWidth:0,mapHeight:0,fixedEvents:[],enemyEncounterChance:0,itemFindingChance:0,randomEnemies:{},itemDrops:{},entities:[],player:{...ye},currentMessage:["[World]: Welcome to the adventure!"],currentEncounter:null,currentCombat:null,combatLogMessages:[],showCombatLog:!1,showFullscreenImage:!1,fullscreenImageUrl:"",fullscreenImageDetails:null,selectedItem:null,showItemDetails:!1,stepCount:0,timeOfDay:"day",status:{icon:"pearl.png",text:"Hello",success:null}}),o=(e,s,a=3e3)=>{const g=s===!0?"green_flag.png":s===!1?"red_flag.png":"pearl.png";r(t=>({...t,status:{text:e,icon:g,success:s}})),setTimeout(()=>{r(t=>({...t,status:{text:"Hello",icon:"pearl.png",success:null}}))},a)},_=async(e=l)=>{await E.initializeGlobalNpcs();const s=ge(e);if(!s)return;const a=s.playerStart,g={...ye,...V,x:a.x,y:a.y},t=[];V.backpack.general.length===0?X.forEach(i=>n(t,i,1)):V.backpack.general.forEach(i=>{const m=X.find(c=>c.id===i.id);m&&n(t,m,i.quantity||1)}),V.backpack.weapons.length===0?R.forEach(i=>n(t,i,1)):V.backpack.weapons.forEach(i=>{const m=R.find(c=>c.id===i.id);m&&n(t,m,i.quantity||1)}),V.backpack.relics.length===0?L.forEach(i=>n(t,i,1)):V.backpack.relics.forEach(i=>{const m=L.find(c=>c.id===i.id);m&&n(t,m,i.quantity||1)}),g.backpack=t,r(i=>({...i,player:g})),await A(e,!0)},A=async(e=l,s=!1)=>{const a=ge(e);if(!a)return;const g=a.tiles,t=a.mapWidth,i=a.mapHeight,m=a.playerStart,c=$(E).globalNpcs;r(I=>{const x=[];a.npcs&&a.npcs.forEach(G=>{const O=c[G.id];if(O){const B={...O,type:"npc",x:G.x,y:G.y,swordRank:O.swordRank,heartRank:O.heartRank};x.push(B)}});let q=I.player;return s&&(q={...I.player,x:m.x,y:m.y}),{...I,isInitialized:!0,currentMapId:e,map:g,mapWidth:t,mapHeight:i,fixedEvents:a.fixedEvents,enemyEncounterChance:a.enemyEncounterChance,itemFindingChance:a.itemFindingChance,randomEnemies:a.randomEnemies,itemDrops:a.itemDrops,entities:x,player:q,currentMessage:["[World]: Welcome to the adventure!"],currentEncounter:null,currentCombat:null}})},n=(e,s,a=1)=>{const g=e.find(t=>t.item.id===s.id);g?g.quantity+=a:e.push({item:s,quantity:a})},y=(e,s,a=1)=>{const g=e.findIndex(t=>t.item.id===s.id);g!==-1&&(e[g].quantity-=a,e[g].quantity<=0&&e.splice(g,1))},f=15,k=(e,s,a)=>{const g=$(E).globalNpcs;r(t=>{const i=ge(e);if(!i)return t;const m=[];i.npcs&&i.npcs.forEach(x=>{const q=g[x.id];q&&m.push({...q,type:"npc",x:x.x,y:x.y})});const c={...t.player,x:s,y:a,viewX:Math.max(0,Math.min(s-Math.floor(te/2),i.mapWidth-te)),viewY:Math.max(0,Math.min(a-Math.floor(le/2),i.mapHeight-le))},I=[...t.currentMessage,`[World]: Teleported to ${i.name}.`];for(;I.length>f;)I.shift();return{...t,currentMapId:e,map:i.tiles,mapWidth:i.mapWidth,mapHeight:i.mapHeight,fixedEvents:i.fixedEvents,randomEnemies:i.randomEnemies,itemDrops:i.itemDrops,enemyEncounterChance:i.enemyEncounterChance,itemFindingChance:i.itemFindingChance,player:c,entities:m,currentEncounter:null,currentCombat:null,currentMessage:I}})},h=e=>{r(s=>{const{currentEncounter:a,player:g,currentCombat:t}=s;let i=[];if(a&&a.type==="npc"){const c=$(E).globalNpcs[a.id];if(!c)return s;if(e==="V"){if(g.hp<=0){const x=$(E).globalNpcs[a.id].dialogues?.playerTooWeak?.[0]||"[World]: You are too weak to initiate combat. Restore your health!";return i.push(x),{...s,currentMessage:[...s.currentMessage,...i]}}if(t&&t.id===c.id)if(t.combatEnded){const x=$(E).globalNpcs[a.id].dialogues?.selfTooWeak?.[0]||`[World]: Combat with ${c.name} is already over.`;i.push(x)}else return u(s);else return D(s,c)}else if(e==="C"){const I=s.fixedEvents.find(x=>x.x===g.x&&x.y===g.y);if(I&&I.onAction&&I.onAction.key===e)I.onAction.type==="GRANT_AURA"&&(g.aura=Math.min(g.maxAura,g.aura+I.onAction.value),i.push(`[World]: You feel a surge of energy. Gained ${I.onAction.value} Aura!`));else if(a&&a.type==="npc"){const x=c.chatDialogues[c.lastRankUpType],q=c[c.lastRankUpType+"Rank"],G=x[q]?x[q][0]:"...";i.push(`[${c.name}]:
${G}`)}else i.push(`[Player]: You pressed the ${e} button.`)}else if(e==="X"||e==="Z"){const{messagesToAdd:I,playerUpdateFn:x}=E.handleNpcRankUpAction(e,a,g);i.push(...I);const q=x(g),G=[...s.currentMessage,...i];for(;G.length>f;)G.shift();return{...s,player:q,currentMessage:G}}}else i.push(`[Player]: You pressed the ${e} button.`);const m=[...s.currentMessage,...i];for(;m.length>f;)m.shift();return{...s,currentMessage:m}})};function u(e){if(!e.currentCombat)return e;let{player:s,currentCombat:a}=e;const g=$(E).globalNpcs,t=wa(s),{updatedPlayer:i,updatedCombat:m,combatLog:c,finalMessage:I,outcome:x}=ha(t,a,g,(B,se,j)=>n(B,se,j));let q=[];I&&(q.push(I),m&&(m.combatEnded=!0),a.type==="npc"&&x&&E.setCombatHistory(a.id,x));const G=I?[...e.currentMessage,...q]:[...e.currentMessage];for(;G.length>f;)G.shift();const O={...e.player,hp:i.hp,aura:i.aura,killCounts:i.killCounts,backpack:i.backpack};return{...e,player:O,currentCombat:m,currentMessage:G,combatLogMessages:[...e.combatLogMessages,...c],showCombatLog:!0}}function D(e,s){const a={...s,type:"npc",currentHp:s.maxHp||s.hp,aura:s.aura||0,combatEnded:!1,roundCount:0},g=[...e.currentMessage,`[World]: You initiated combat with ${s.name}! `];for(;g.length>f;)g.shift();const t={...e,currentCombat:a,currentMessage:g,combatLogMessages:[],showCombatLog:!0};return u(t)}const b=(e,s)=>{r(a=>{let{currentCombat:g,currentMessage:t}=a;if(g){const w=g.name;for(t=[...t,`[World]: You disengaged, and ${w} recovered.`];t.length>f;)t.shift();g=null}let i=a.player.x+e,m=a.player.y+s;i=Math.max(0,Math.min(i,a.mapWidth-1)),m=Math.max(0,Math.min(m,a.mapHeight-1));const c={...a.player,x:i,y:m};c.viewX=Math.max(0,Math.min(i-Math.floor(te/2),a.mapWidth-te)),c.viewY=Math.max(0,Math.min(m-Math.floor(le/2),a.mapHeight-le));const I=a.map.find(w=>w.x===i&&w.y===m),x=a.entities.find(w=>w.x===i&&w.y===m&&w.type==="npc");let q=null,G=[];if(I){const w=a.fixedEvents.find(N=>N.x===i&&N.y===m);if(w){if(w.type==="teleport")return k(w.targetMap,w.targetX,w.targetY),a;w.onEnter&&w.onEnter.type==="HEAL_FULL"&&(c.hp=c.maxHp,G.push("[World]: You feel a surge of warmth. Health fully restored!"))}}const O=c.activeBuffs||[];if(c.activeBuffs=O.map(w=>({...w,duration:w.duration-1})).filter(w=>w.duration>0),x){q={...x,image:x.profileImage,mainImage:x.mainImage};const w=$(E).globalNpcs[x.id],N=w.chatDialogues[w.lastRankUpType],Z=w[w.lastRankUpType+"Rank"],re=N[Z]?N[Z][0]:w.chatDialogues.general[0];G.push(`[${w.name}]:
${re}`),t=[]}else{const w=Math.random(),N=I?.tileType,Z=a.enemyEncounterChance,re=a.itemFindingChance;if(w<Z&&N)if(c.hp<=0)G.push("[World]: You are too weak to fight and flee from a random encounter.");else{const Q=a.randomEnemies[N];if(Q&&Q.length>0){let P=null;const pe=Math.random();let ee=0;for(const S of Q)if(ee+=S.chance,pe<=ee){P=ze.find(H=>H.id===S.id);break}P&&G.push(`You encountered a ${P.name}! But it fled in terror!`)}}else if(w<Z+re&&N){let Q=a.itemDrops[N]||[];if(a.itemDrops.universal&&(Q=Q.concat(a.itemDrops.universal)),Q.length>0){let P=null;const pe=Math.random();let ee=0;for(const S of Q)if(ee+=S.chance,pe<=ee){P=S;break}if(P){const S=X.find(H=>H.id===P.itemId)||R.find(H=>H.id===P.itemId)||L.find(H=>H.id===P.itemId);if(S){const H=Math.floor(Math.random()*(P.maxQuantity-P.minQuantity+1))+P.minQuantity;n(c.backpack,S,H),G.push(`You found ${H}x ${S.name}!`)}}}}}const B=[...t,...G];for(;B.length>f;)B.shift();const se=a.stepCount+1;let j=a.timeOfDay;return se%50===0&&(j=j==="day"?"night":"day",B.push(`[World]: It is now ${j}.`)),{...a,player:c,currentEncounter:q,currentCombat:g,currentMessage:B,stepCount:se,timeOfDay:j,showCombatLog:!!g}})},d=(e,s)=>r(a=>({...a,showFullscreenImage:!0,fullscreenImageUrl:e,fullscreenImageDetails:s})),v=()=>r(e=>({...e,showFullscreenImage:!1,fullscreenImageUrl:"",fullscreenImageDetails:null})),J=e=>r(s=>({...s,selectedItem:e,showItemDetails:!0})),W=()=>r(e=>({...e,selectedItem:null,showItemDetails:!1})),C=e=>{r(s=>{if(!e.equippable){const c=[...s.currentMessage,`[Player]: You cannot equip ${e.name}.`];for(;c.length>f;)c.shift();return{...s,currentMessage:c}}let a={...s.player.equipment},g=[...s.player.backpack],t=`[Player]: Equipped ${e.name}.`;if(K(e))a.weapon1?a.weapon2?(n(g,a.weapon1,1),a.weapon1=e,t=`[Player]: Unequipped ${a.weapon1.name} and equipped ${e.name} in Weapon 1 slot.`):a.weapon2=e:a.weapon1=e;else{const c=a.relics.findIndex(I=>I===null);c!==-1?a.relics[c]=e:(n(g,a.relics[0],1),a.relics[0]=e,t=`[Player]: Unequipped ${a.relics[0].name} and equipped ${e.name} in a Relic slot.`)}y(g,e,1);const i=[...s.currentMessage,t];for(;i.length>f;)i.shift();const m={...s.player,equipment:a,backpack:g};return m.activeElements=ce(m),{...s,player:m,currentMessage:i}}),W()},ae=e=>{r(s=>{let a={...s.player.equipment},g=[...s.player.backpack],t=`[Player]: Unequipped ${e.name}.`,i=!1;if(a.weapon1&&a.weapon1.id===e.id)a.weapon1=null,i=!0;else if(a.weapon2&&a.weapon2.id===e.id)a.weapon2=null,i=!0;else{const I=a.relics.findIndex(x=>x&&x.id===e.id);I!==-1&&(a.relics[I]=null,i=!0)}i?n(g,e,1):t=`[Player]: ${e.name} is not equipped.`;const m=[...s.currentMessage,t];for(;m.length>f;)m.shift();const c={...s.player,equipment:a,backpack:g};return c.activeElements=ce(c),{...s,player:c,currentMessage:m}})},ne=e=>{r(s=>{if(!e.consumable){const m=[...s.currentMessage,`[Player]: You cannot consume ${e.name}.`];for(;m.length>f;)m.shift();return{...s,currentMessage:m}}let a=[...s.player.backpack];y(a,e,1);let g=`[Player]: Consumed ${e.name}.`,t={...s.player,backpack:a};if(e.effects&&(e.effects.hp&&(t.hp=Math.min(t.maxHp,t.hp+e.effects.hp),g+=` Restored ${e.effects.hp} HP.`),e.effects.aura&&(t.aura=Math.min(t.maxAura||t.aura,t.aura+e.effects.aura),g+=` Restored ${e.effects.aura} Aura.`)),e.buff){const m={...e.buff,source:e.id};t.activeBuffs=[...t.activeBuffs||[],m],g+=` Gained buff: ${e.buff.stat} for ${e.buff.duration} steps.`}e.buffs&&Array.isArray(e.buffs)&&e.buffs.forEach(m=>{const c={...m,source:e.id};t.activeBuffs=[...t.activeBuffs||[],c],g+=` Gained buff: ${m.stat} for ${m.duration} steps.`});const i=[...s.currentMessage,g];for(;i.length>f;)i.shift();return{...s,player:t,currentMessage:i}}),W()},U=e=>{r(s=>{if(e.cannotDrop||e.special){const i=[...s.currentMessage,`[Player]: You cannot drop ${e.name}, it's important or special!`];for(;i.length>f;)i.shift();return{...s,currentMessage:i}}let a=[...s.player.backpack];y(a,e,1);const g=`[Player]: Dropped ${e.name}.`,t=[...s.currentMessage,g];for(;t.length>f;)t.shift();return{...s,player:{...s.player,backpack:a},currentMessage:t}}),W()},K=e=>R.some(s=>s.id===e.id);return{subscribe:p,startNewGame:_,initializeGame:A,movePlayer:b,handleAction:h,openFullscreenImage:d,closeFullscreenImage:v,openItemDetails:J,closeItemDetails:W,equipItem:C,unequipItem:ae,consumeItem:ne,dropItem:U,isWeapon:K,isRelic:e=>L.some(s=>s.id===e.id),teleportPlayer:k,saveGame:()=>{r(e=>{const s={currentMapId:e.currentMapId,player:e.player,stepCount:e.stepCount,timeOfDay:e.timeOfDay,globalNpcs:E.getSaveData()};return localStorage.setItem("dawn_journey_save",JSON.stringify(s)),o("Game Saved!",!0),e})},loadGame:async()=>{const e=localStorage.getItem("dawn_journey_save");if(e)try{const s=JSON.parse(e);await E.initializeGlobalNpcs(),E.loadSaveData(s.globalNpcs),await A(s.currentMapId),r(a=>{const g={...s.player,backpack:s.player.backpack.map(t=>{const i=X.find(m=>m.id===t.item.id)||R.find(m=>m.id===t.item.id)||L.find(m=>m.id===t.item.id);return{item:i?{...i}:null,quantity:t.quantity}}).filter(t=>t.item),equipment:{weapon1:s.player.equipment.weapon1?R.find(t=>t.id===s.player.equipment.weapon1.id):null,weapon2:s.player.equipment.weapon2?R.find(t=>t.id===s.player.equipment.weapon2.id):null,relics:s.player.equipment.relics.map(t=>t?L.find(i=>i.id===t.id):null)}};return o("Game Loaded!",!0),{...a,currentMapId:s.currentMapId,player:g,stepCount:s.stepCount,timeOfDay:s.timeOfDay}})}catch(s){console.error("Failed to load game:",s),o("Failed to load game!",!1)}else o("No save file found!",!1)},setStatus:o,closeCombatLog:()=>r(e=>({...e,showCombatLog:!1,combatLogMessages:[]}))}}const Ta=ba(),Da=l=>R.some(p=>p.id===l.id),va=l=>L.some(p=>p.id===l.id);export{te as V,le as a,va as b,Ta as g,Da as i,E as n};
